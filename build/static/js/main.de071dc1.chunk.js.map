{"version":3,"sources":["../node_modules/colorbrewer sync","Components/Sidebar.tsx","model/enums.ts","hooks.ts","Components/MapGallery.tsx","Components/Timeline/EventInfoDisplay.tsx","Components/Timeline.tsx","Components/SelectorSection.tsx","Components/Selectors/Containers/SelectorGroup.tsx","Components/Selectors/Containers/SelectorParent.tsx","Components/Selectors/Grid/GridUnit.tsx","Components/Selectors/Grid/GridChunk.tsx","Components/Selectors/YearDiscipline.tsx","Components/Selectors/Themes.tsx","Components/Selectors/Grid/GridRow.tsx","Components/Selectors/MapLens.tsx","Components/Toolbar.tsx","App.tsx","reportWebVitals.ts","theme.tsx","model/map_data.ts","model/index.ts","store.ts","index.tsx"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","Sidebar","AuthorDisciplineFilter","EventLevel","TopicSubCategoryFilter","GalleryFilterType","ClassYearFilter","ThemeCategoryFilter","theme","useTheme","container","height","width","paddingBottom","paddingRight","textAlign","display","flexDirection","justifyContent","color","palette","primary","main","paragraph","fontSize","lineHeight","Pane","style","Text","Heading","size","Paragraph","Strong","typedHooks","createTypedHooks","useStoreActions","useStoreState","useStoreDispatch","IMAGES","src","thumbnail","thumbnailWidth","thumbnailHeight","isSelected","caption","tags","value","title","LimitedBackdrop","withStyles","root","position","zIndex","boxSizing","paddingLeft","paddingTop","opacity","backgroundColor","Backdrop","MapGallery","gallery_images","state","map_data","active_images","useState","showLightbox","setShowLightBox","set_active_lightbox","actions","filter_gallery","active_lightbox","useEffect","textStyle","slickSlide","margin","open","top","left","onClick","CrossIcon","Grid","spacing","justify","item","xs","author","description","replace","dots","infinite","speed","slidesToShow","slidesToScroll","variableWidth","images","map","index","imageSrc","source","allowOverflow","magnifierSize","overflow","tagStyle","renderItem","undefined","rowHeight","maxRows","enableLightbox","enableImageSelection","onClickThumbnail","console","log","this","props","EventInfoDisplay","info","infoHeader","textDecoration","default_val","start","Date","end","category","national","data","Timeline","active_filter","filter","time_series","timeline_series","event_rows","event_spreadsheet","eventInfo","setEventInfo","setSelectedEvent","start_date","end_date","timelineSection","borderTop","seperatorText","historicalEventsText","timerange","TimeRange","make_series","series","row_height","ev","i","base_style","fill","handle_click","first","get","found_row","r","toCheck","obj","concat","Object","getOwnPropertyNames","getPrototypeOf","sort","arr","getAllFuncs","axisMargin","label","label_func","onSelectionChange","textOffsetY","s","Array","from","pos","name","f","testtest","marginTop","timeRange","enablePanZoom","city","SelectorSection","children","headerContainer","borderBottom","alignContent","header","marginBottom","padding","paddingReft","SelectorGroup","groupStyle","childContainer","SelectorParent","selectorGroup","borderLeft","borderRight","noSiblings","selectorGroupFirst","selectorGroupLast","direction","React","Children","child","isValidElement","ind","chil","isArray","length","GridUnit","is_active_filter","setHover","match_color","blue","dark","marginRight","outline","boxStyle","onMouseEnter","onMouseLeave","GridChunk","count","base_color","rowContainer","chunkContainer","real_filter","set_filter","thunk_set_filter","set_row_color","is_hovered","hovered","setHovered","group_columns","step","val","Math","round","num_cols","max_num_rows","test_arrs","k","abs","roundToStep","col_list","onMouseUp","cur_col","c","to_chunk","to_author_enum","discipline","year","YearDiscipline","year_data","map_stats","chunksContainer","disciplineStyle","make_year_chunks","year_breakdown","ARCHITECTURE","Themes","theme_stats","EQUITY","ACCESS","DIVERSITY","GridRow","icon","MapLens","tag_stats","tag","BE_ENERGY","BE","ENERGY","LightbulbIcon","BE_HOUSING","HOUSING","Apartment","BE_TRANSPORTATION","TRANSPORTATION","DirectionsBus","EE_COSTOFLIVING","EE","COSTOFLIVING","HomeIcon","EE_HOUSINGMARKET","HOUSINGMARKET","ChartIcon","EE_COMMERCE","COMMERCE","BriefcaseIcon","NE_GREENSPACE","NE","GREENSPACE","TreeIcon","NE_POLLUTION","POLLUTION","NE_WATER","WATER","Opacity","PE_GOVERMENT","PE","GOVERMENT","AccountBalance","PE_LEGISLATION","LEGISLATION","Gavel","PE_ACTIVISM","ACTIVISM","VolumeUp","SE_EDUCATION","SE","EDUCATION","School","SE_HEALTH","HEALTH","SymbolCrossIcon","SE_POPULATION","POPULATION","PeopleIcon","Toolbar","instructions_paragraph","SelectorContainer","border","sm","md","lg","App","test_thunk","fetch_map_data","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","createMuiTheme","light","factor","overrides","MuiGrid","generate_map_stats","map_rows","year_groups","groupBy","yg_keys","max_unit_count","year_group","cats","final_data","forEach","generate_year_discpline_stats","total_cat_blocks","topic_groups","empty_cont","topic_group_count","sub_groups","portioned_cat_blocks","empty_sg","cat_percent","cat_blocks","sk","ceil","generate_topic_stats","num_theme_blocks","theme_groups","theme_keys","empty_theme_data","generate_theme_stats","make_time_series","rows","categorized_events","key","all_events","time_range","split","t","trim","time_range_event","TimeRangeEvent","push","TimeSeries","events","test_obj","ev2","array","row_count","every","e3","a_start","begin","a_end","b_start","b_end","sorted_events","a","b","group_events_to_rows","error","event_row_to_series","map_rows_to_images","map_row","photo1","subtopic","property","reduce","acc","cur","type_event_rows","cat_string","type_cat","get_image","image","Promise","reject","img","Image","onload","get_sheet","sheet_num","GetSheetDone","labeledCols","sheet","catch","err","get_map_sheet","sheet_index","map_sheet","discipline_string","model","loaded","map_spreadsheet","thunk","maps","test_2018","DOC_KEY","test_2020","test_2016","map_sheets","all","sheet_data","gallery_image_responses","all_unsized_images","sheet_payload","unsized_gallery_images","image_responses","gi","res","sized_gallery_images","def_img","set_gallery_images","set_active_images","set_map_stats","set_map_spreadsheet","event_sheet","typed_event_rows","set_event_spreadsheet","set_timeline_series","action","map_stats_obj","payload","filter_option","filter_type","TOPIC","with_subtopic","THEME","with_theme","DISCIPLINE","with_discipline_and_year","debug","reset_gallery","values","includes","set_active_filter","source_row","photo_sources","startsWith","photo_info","kind","store","createStore","ReactDOM","render","ThemeProvider","document","getElementById"],"mappings":"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","file":"static/js/main.de071dc1.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 438;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {Heading, Paragraph, Link, Strong, Small, Text, Icon, Pane, ArrowRightIcon} from 'evergreen-ui';\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\nimport { useStoreActions, useStoreState } from \"../hooks\";\r\nfunction Sidebar(){\r\n    const theme = useTheme();\r\n\r\n    const container = {\r\n        height: \"100%\",\r\n        width: \"100%\",\r\n        // paddingRight: \"2em\",\r\n        // marginTop: \"18px\",\r\n        paddingBottom: \"1em\",\r\n        paddingRight: \"2em\",\r\n        textAlign: \"left\" as const,\r\n        display: \"flex\",\r\n        flexDirection: \"column\" as const,\r\n        justifyContent: \"space-evenly\",\r\n        // borderTop: `1px solid ${theme.palette.primary.main}`,\r\n        color: theme.palette.primary.main,\r\n    };\r\n    const instructions_paragraph ={\r\n        // : \"left\"\r\n        color: theme.palette.primary.main,\r\n        fontSize: \"9pt\",\r\n        lineHeight: \"12pt\",\r\n    };\r\n\r\n    const paragraph ={\r\n        // : \"left\"\r\n        color: theme.palette.primary.main,\r\n        fontSize: \"9pt\",\r\n        lineHeight: \"15pt\",\r\n    };\r\n\r\n    const linkStyle = {\r\n        fontSize: \"8pt\",\r\n        textDecoration: \"none\",\r\n    }\r\n\r\n    const quoteStyle = {\r\n        textStyle: \"italic\"\r\n    }\r\n\r\n    return(\r\n        <Pane style = {container}>\r\n            {/* <Text>\r\n \r\n                <Link style = {linkStyle} >WAYS TO EXPEREINCE THIS \r\n                    <Icon icon = {ArrowRightIcon} size  = {9}/>\r\n                </Link>\r\n                <Paragraph style = {instructions_paragraph}>Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, \r\n                    making it over 2000 years old. \r\n                </Paragraph>\r\n            </Text> */}\r\n            <Text style = {{lineHeight: '15pt'}}>\r\n                <Heading size = {700} color = {theme.palette.primary.main}> Intro</Heading>\r\n                    <Paragraph style = {paragraph}>Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, \r\n                        making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, \r\n                        making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure \r\n                    </Paragraph>\r\n            </Text>\r\n            <Text style = {{lineHeight: '9pt'}}>\r\n            <Paragraph>\r\n                    <Strong size = {300} color = {theme.palette.primary.main}>\r\n                        \"Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Contrary to popular belief, Lorem Ipsum is not simply random text.\r\n                    </Strong>\r\n                </Paragraph>\r\n            </Text>\r\n        </Pane>\r\n\r\n    )\r\n}\r\n\r\nexport default Sidebar;","export enum AuthorDisciplineFilter{\r\n    ARTDESIGN =\"ARTDESIGN\",\r\n    ARCHITECTURE = \"ARCHITECTURE\",\r\n    LANDSCAPE = \"LANDSCAPE\",\r\n    OTHER = \"OTHER\",\r\n\r\n    ARTDESIGN_2016 =\"ARTDESIGN_2016\",\r\n    ARTDESIGN_2018 =\"ARTDESIGN_2018\",\r\n    ARTDESIGN_2020 =\"ARTDESIGN_2020\",\r\n    ARCHITECTURE_2016 =\"ARTDESIGN_2016\",\r\n    ARCHITECTURE_2018 =\"ARTDESIGN_2018\",\r\n    ARCHITECTURE_2020 =\"ARTDESIGN_2020\",\r\n    OTHER_2016 =\"OTHER_2016\",\r\n    OTHER_2018 =\"OTHER_2018\",\r\n    OTHER_2020 =\"OTHER_2020\",\r\n    LANDSCAPE_2016 =\"LANDSCAPE_2016\",\r\n    LANDSCAPE_2018 =\"LANDSCAPE_2018\",\r\n    LANDSCAPE_2020 =\"LANDSCAPE_2020\",\r\n}\r\n\r\nexport enum EventLevel{\r\n  national = \"national\",\r\n  state = \"state\", \r\n  city = \"city\",\r\n}\r\n\r\nexport enum TopicSubCategoryFilter{\r\n  BE_HOUSING = \"HOUSING\",\r\n  BE_TRANSPORTATION = \"TRANSPORTATION\",\r\n  BE_ENERGY = \"ENERGY\",\r\n  EE_COSTOFLIVING = \"COSTOFLIVING\",\r\n  EE_HOUSINGMARKET = \"HOUSINGMARKET\",\r\n  EE_COMMERCE = \"COMMERCE\",\r\n  NE_GREENSPACE = \"GREENSPACE\",\r\n  NE_POLLUTION = \"POLLUTION\",\r\n  NE_WATER = \"WATER\",\r\n  PE_GOVERMENT = \"GOVERMENT\",\r\n  PE_LEGISLATION = \"LEGISLATION\",\r\n  PE_ACTIVISM = \"ACTIVISM\",\r\n  SE_EDUCATION = \"EDUCATION\",\r\n  SE_HEALTH = \"HEALTH\",\r\n  SE_POPULATION = \"POPULATION\",\r\n}\r\n\r\nexport enum GalleryFilterType{\r\n  TOPIC,\r\n  DISCIPLINE,\r\n  THEME,\r\n}\r\nexport enum ClassYearFilter {\r\n  \r\n}\r\nexport enum ThemeCategoryFilter{\r\n    EQUITY = \"EQUITY\",\r\n    ACCESS = \"ACCESS\",\r\n    DIVERSITY = \"DIVERSITY\",\r\n}\r\n\r\n","import { createTypedHooks } from \"easy-peasy\";\r\nimport { StoreModel } from \"./model\";\r\n\r\nconst typedHooks = createTypedHooks<StoreModel>();\r\n\r\n// We export the hooks from our store as they will contain the\r\n// type information on them\r\nexport const useStoreActions = typedHooks.useStoreActions;\r\nexport const useStoreDispatch = typedHooks.useStoreDispatch;\r\nexport const useStoreState = typedHooks.useStoreState;\r\n\r\n","import { useState, useEffect } from 'react';\r\nimport Gallery from 'react-grid-gallery';\r\nimport { useTheme, withStyles } from \"@material-ui/core/styles\";\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { useStoreActions, useStoreState } from \"../hooks\";\r\nimport {Link, Icon, CrossIcon, Heading, Paragraph} from 'evergreen-ui';\r\nimport '../css/GridGallery.css';\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport ReactSlick from 'react-slick';\r\n// import ReactImageMagnify from 'react-image-magnify';\r\nimport \"../css/SlickSlide.css\";\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\nimport {GlassMagnifier} from 'react-image-magnifiers';\r\n\r\n\r\nconst IMAGES =\r\n[\r\n{\r\n        src: \"https://c2.staticflickr.com/9/8817/28973449265_07e3aa5d2e_b.jpg\",\r\n        thumbnail: \"https://c2.staticflickr.com/9/8817/28973449265_07e3aa5d2e_n.jpg\",\r\n        thumbnailWidth: 320,\r\n        thumbnailHeight: 174,\r\n        isSelected: false,\r\n        caption: \"After Rain (Jeshu John - designerspics.com)\"\r\n},\r\n{\r\n        src: \"https://c2.staticflickr.com/9/8356/28897120681_3b2c0f43e0_b.jpg\",\r\n        thumbnail: \"https://c2.staticflickr.com/9/8356/28897120681_3b2c0f43e0_n.jpg\",\r\n        thumbnailWidth: 320,\r\n        thumbnailHeight: 212,\r\n        tags: [{value: \"Ocean\", title: \"Ocean\"}, {value: \"People\", title: \"People\"}],\r\n        caption: \"Boats (Jeshu John - designerspics.com)\"\r\n},\r\n\r\n{\r\n        src: \"https://c4.staticflickr.com/9/8887/28897124891_98c4fdd82b_b.jpg\",\r\n        thumbnail: \"https://c4.staticflickr.com/9/8887/28897124891_98c4fdd82b_n.jpg\",\r\n        thumbnailWidth: 320,\r\n        thumbnailHeight: 212\r\n},\r\n{\r\n    src: \"https://c2.staticflickr.com/9/8817/28973449265_07e3aa5d2e_b.jpg\",\r\n    thumbnail: \"https://c2.staticflickr.com/9/8817/28973449265_07e3aa5d2e_n.jpg\",\r\n    thumbnailWidth: 320,\r\n    thumbnailHeight: 174,\r\n    isSelected: false,\r\n    caption: \"After Rain (Jeshu John - designerspics.com)\"\r\n},\r\n{\r\n    src: \"https://c2.staticflickr.com/9/8356/28897120681_3b2c0f43e0_b.jpg\",\r\n    thumbnail: \"https://c2.staticflickr.com/9/8356/28897120681_3b2c0f43e0_n.jpg\",\r\n    thumbnailWidth: 320,\r\n    thumbnailHeight: 212,\r\n    tags: [{value: \"Ocean\", title: \"Ocean\"}, {value: \"People\", title: \"People\"}],\r\n    caption: \"Boats (Jeshu John - designerspics.com)\"\r\n},\r\n\r\n{\r\n    src: \"https://c4.staticflickr.com/9/8887/28897124891_98c4fdd82b_b.jpg\",\r\n    thumbnail: \"https://c4.staticflickr.com/9/8887/28897124891_98c4fdd82b_n.jpg\",\r\n    thumbnailWidth: 320,\r\n    thumbnailHeight: 212\r\n},\r\n{\r\n    src: \"https://c2.staticflickr.com/9/8817/28973449265_07e3aa5d2e_b.jpg\",\r\n    thumbnail: \"https://c2.staticflickr.com/9/8817/28973449265_07e3aa5d2e_n.jpg\",\r\n    thumbnailWidth: 320,\r\n    thumbnailHeight: 174,\r\n    isSelected: false,\r\n    caption: \"After Rain (Jeshu John - designerspics.com)\"\r\n},\r\n{\r\n    src: \"https://c2.staticflickr.com/9/8356/28897120681_3b2c0f43e0_b.jpg\",\r\n    thumbnail: \"https://c2.staticflickr.com/9/8356/28897120681_3b2c0f43e0_n.jpg\",\r\n    thumbnailWidth: 320,\r\n    thumbnailHeight: 212,\r\n    tags: [{value: \"Ocean\", title: \"Ocean\"}, {value: \"People\", title: \"People\"}],\r\n    caption: \"Boats (Jeshu John - designerspics.com)\"\r\n},\r\n\r\n{\r\n    src: \"https://c4.staticflickr.com/9/8887/28897124891_98c4fdd82b_b.jpg\",\r\n    thumbnail: \"https://c4.staticflickr.com/9/8887/28897124891_98c4fdd82b_n.jpg\",\r\n    thumbnailWidth: 320,\r\n    thumbnailHeight: 212\r\n},\r\n{\r\n    src: \"https://c2.staticflickr.com/9/8817/28973449265_07e3aa5d2e_b.jpg\",\r\n    thumbnail: \"https://c2.staticflickr.com/9/8817/28973449265_07e3aa5d2e_n.jpg\",\r\n    thumbnailWidth: 320,\r\n    thumbnailHeight: 174,\r\n    isSelected: false,\r\n    caption: \"After Rain (Jeshu John - designerspics.com)\"\r\n},\r\n{\r\n    src: \"https://c2.staticflickr.com/9/8356/28897120681_3b2c0f43e0_b.jpg\",\r\n    thumbnail: \"https://c2.staticflickr.com/9/8356/28897120681_3b2c0f43e0_n.jpg\",\r\n    thumbnailWidth: 320,\r\n    thumbnailHeight: 212,\r\n    tags: [{value: \"Ocean\", title: \"Ocean\"}, {value: \"People\", title: \"People\"}],\r\n    caption: \"Boats (Jeshu John - designerspics.com)\"\r\n},\r\n\r\n{\r\n    src: \"https://c4.staticflickr.com/9/8887/28897124891_98c4fdd82b_b.jpg\",\r\n    thumbnail: \"https://c4.staticflickr.com/9/8887/28897124891_98c4fdd82b_n.jpg\",\r\n    thumbnailWidth: 320,\r\n    thumbnailHeight: 212\r\n},\r\n{\r\n    src: \"https://c2.staticflickr.com/9/8817/28973449265_07e3aa5d2e_b.jpg\",\r\n    thumbnail: \"https://c2.staticflickr.com/9/8817/28973449265_07e3aa5d2e_n.jpg\",\r\n    thumbnailWidth: 320,\r\n    thumbnailHeight: 174,\r\n    isSelected: false,\r\n    caption: \"After Rain (Jeshu John - designerspics.com)\"\r\n},\r\n{\r\n    src: \"https://c2.staticflickr.com/9/8356/28897120681_3b2c0f43e0_b.jpg\",\r\n    thumbnail: \"https://c2.staticflickr.com/9/8356/28897120681_3b2c0f43e0_n.jpg\",\r\n    thumbnailWidth: 320,\r\n    thumbnailHeight: 212,\r\n    tags: [{value: \"Ocean\", title: \"Ocean\"}, {value: \"People\", title: \"People\"}],\r\n    caption: \"Boats (Jeshu John - designerspics.com)\"\r\n},\r\n\r\n{\r\n    src: \"https://c4.staticflickr.com/9/8887/28897124891_98c4fdd82b_b.jpg\",\r\n    thumbnail: \"https://c4.staticflickr.com/9/8887/28897124891_98c4fdd82b_n.jpg\",\r\n    thumbnailWidth: 320,\r\n    thumbnailHeight: 212\r\n},\r\n{\r\n    src: \"https://c2.staticflickr.com/9/8817/28973449265_07e3aa5d2e_b.jpg\",\r\n    thumbnail: \"https://c2.staticflickr.com/9/8817/28973449265_07e3aa5d2e_n.jpg\",\r\n    thumbnailWidth: 320,\r\n    thumbnailHeight: 174,\r\n    isSelected: false,\r\n    caption: \"After Rain (Jeshu John - designerspics.com)\"\r\n},\r\n{\r\n    src: \"https://c2.staticflickr.com/9/8356/28897120681_3b2c0f43e0_b.jpg\",\r\n    thumbnail: \"https://c2.staticflickr.com/9/8356/28897120681_3b2c0f43e0_n.jpg\",\r\n    thumbnailWidth: 320,\r\n    thumbnailHeight: 212,\r\n    tags: [{value: \"Ocean\", title: \"Ocean\"}, {value: \"People\", title: \"People\"}],\r\n    caption: \"Boats (Jeshu John - designerspics.com)\"\r\n},\r\n\r\n\r\n]\r\n\r\nconst images2 = [\r\n    {\r\n      original: 'https://picsum.photos/id/1018/1000/600/',\r\n      thumbnail: 'https://picsum.photos/id/1018/250/150/',\r\n    },\r\n    {\r\n      original: 'https://picsum.photos/id/1015/1000/600/',\r\n      thumbnail: 'https://picsum.photos/id/1015/250/150/',\r\n    },\r\n    {\r\n      original: 'https://picsum.photos/id/1019/1000/600/',\r\n      thumbnail: 'https://picsum.photos/id/1019/250/150/',\r\n    },\r\n  ];\r\n  \r\n// https://codesandbox.io/s/react-grid-gallery-ztf4n?file=/src/index.js:358-880\r\n// https://codesandbox.io/s/r48lm1jopq\r\ntype GalleryProps = { \r\n}\r\n\r\nconst LimitedBackdrop = withStyles({\r\n    root: {\r\n      position: \"absolute\",\r\n      zIndex: 1,\r\n      boxSizing: \"border-box\",\r\n    //   zIndex: ,\r\n      paddingLeft: '2em',\r\n      paddingTop: '2em',\r\n      opacity: .5,\r\n      backgroundColor: 'rgb(0 0 0 / 73%)'\r\n    }\r\n})(Backdrop);\r\n\r\nconst MapGallery = () => {\r\n    const gallery_images = useStoreState(state=>state.map_data.active_images);\r\n    const [showLightbox, setShowLightBox] = useState(false);\r\n    const filter_gallery = useStoreActions(actions=>actions.map_data.filter_gallery);\r\n    // const set_filters = useStoreActions(actions=>actions.map_data.set_filters);\r\n    const set_active_lightbox = useStoreActions(actions=>actions.map_data.set_active_lightbox);\r\n    const active_lightbox = useStoreState(state=>state.map_data.active_lightbox);\r\n\r\n    const theme = useTheme();\r\n    const linkStyle = {\r\n        fontSize: \"8pt\",\r\n        textDecoration: \"none\",\r\n    }\r\n\r\n    useEffect(() =>{\r\n\r\n    }, [gallery_images, active_lightbox]);\r\n\r\n\r\n    const containerStyle = {\r\n        backgroundColor: \"white\",\r\n        height: '100%',\r\n        margin: 'auto',\r\n        flexDirection: 'column',\r\n    }  as React.CSSProperties\r\n    // const galleryStyle = {\r\n    //     height: '100%',\r\n    //     // display: 'flex',\r\n    // } as React.CSSProperties\r\n\r\n    function get_lightbox_tb_2(this: any) {\r\n        console.log(this.props);\r\n        setShowLightBox(showLightbox=>!showLightbox);\r\n        console.log(showLightbox);\r\n        set_active_lightbox(this.props.item)\r\n    }  \r\n\r\n    const mainGrid = {\r\n        height: '100vh',\r\n        width: '100vw',\r\n        spacing: 0,\r\n        justify: 'space-around',\r\n    };\r\n    const mapImage = {\r\n        width: '100%'\r\n    }\r\n    const textStyle = {\r\n        color: 'White',\r\n        fontSize: '12pt',\r\n        lineHeight: '12pt',\r\n    }\r\n    const headingStyle = {\r\n        color: 'white',\r\n        paddingBottom: '3em',\r\n    }\r\n    const backDropContainer = {\r\n        width: '100%', \r\n        height: '100%',\r\n        paddingLeft: '2em',\r\n        // padding: '5em',\r\n    }\r\n    const closeButtonContainer = {\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n        color: 'white'\r\n    } as React.CSSProperties\r\n\r\n    const slickSlide = {\r\n      height: '500px',\r\n    //   width: '500px',  \r\n      width: '100vh',  \r\n    } as React.CSSProperties\r\n\r\n    const galleryStyle = {\r\n        height: '90vh'\r\n        // height: '100%'\r\n    }\r\n    const test_render_item = (item: any) =>{\r\n        return (\r\n            <div>\r\n                hello\r\n            </div>\r\n        )\r\n    }\r\n    const slick_props= {\r\n        // adaptiveHeight: false, \r\n        // adaptiveHeight: true, \r\n        variableWidth: true,\r\n        // centerMode: true, \r\n        slidesToShow: 1,\r\n        // adaptiveHeight: false, \r\n    }\r\n    return(\r\n    <div style = {containerStyle}>\r\n                <div >\r\n            <LimitedBackdrop open={showLightbox}>\r\n                <div style = {closeButtonContainer}  onClick={()=>setShowLightBox(false)}>\r\n                <CrossIcon></CrossIcon>\r\n                </div>\r\n\r\n            {/* <LimitedBackdrop open={showLightbox} onClick={()=>setShowLightBox(false)}> */}\r\n                <div style = {backDropContainer}>\r\n                    <Grid container spacing = {3} style = {mainGrid}>\r\n                 \r\n                        <Grid item xs = {3}>\r\n                        <Heading size = {400} color = {'white'} >{active_lightbox.title}</Heading>\r\n                            <Paragraph>\r\n                                {active_lightbox.author}\r\n                            </Paragraph>\r\n                            <Paragraph style = {textStyle}>\r\n                            {active_lightbox.description.replace(\"___\", \"\")}\r\n                            </Paragraph>\r\n                            <Paragraph style = {textStyle}>\r\n                            {/* Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure */}\r\n                            </Paragraph>\r\n                        </Grid>\r\n                        <Grid item xs = {9} style = {galleryStyle}>\r\n                        <ReactSlick\r\n                            {...{\r\n                                dots: true,\r\n                                infinite: true,\r\n                                speed: 500,\r\n                                slidesToShow: 1,\r\n                                slidesToScroll: 1\r\n                            }}\r\n                            {...slick_props}\r\n                            // {...rsProps}\r\n                        >\r\n                            {active_lightbox.images.map((src: any, index) => (\r\n                                <div key={index} style = {slickSlide}>\r\n                                    <GlassMagnifier\r\n                                        imageSrc = {src.source}\r\n                                        allowOverflow = {true}\r\n                                        magnifierSize = {\"40%\"}\r\n                                        \r\n                                    />\r\n                                \r\n                                </div>\r\n                            ))}\r\n                        </ReactSlick>\r\n\r\n                        </Grid>\r\n                    </Grid>\r\n        \r\n                </div>\r\n            </LimitedBackdrop>\r\n        </div>\r\n        <div>\r\n        <Heading>DIY CARTOGRAPHY: </Heading>\r\n        <Heading>MAPPING THE IMPACT OF URBAN DEVELOPMENT</Heading>\r\n        </div>\r\n        {/* <div style = {{display: 'flex'}}>\r\n            <Link style = {linkStyle} onClick = {()=>{set_filters([\"BUILT ENVIRONMENT\"])}}>BUILT ENVIRONMENT</Link>\r\n            <Link style = {linkStyle} onClick = {()=>{set_filters([\"POLITICAL ENVIRONMENT\"])}}>POLITICAL ENVIRONMENT</Link>\r\n            <Link style = {linkStyle} onClick = {()=>{set_filters([\"SOCIAL ENVIRONMENT\"])}}>SOCIAL ENVIRONMENT</Link>\r\n            <Link style = {linkStyle} onClick = {()=>{set_filters([\"ENVIRONMENTAL ENVIRONMENT\"])}}>ENVIRONMENTAL ENVIRONMENT</Link>\r\n        </div> */}\r\n\r\n            <div style = {{overflow: 'hidden', height: \"100%\"}}>\r\n            <Scrollbars style={{ width: \"100%\", height: 300 }}>\r\n                <div style = {{height: '100%', paddingTop: '1em', width: \"100%\"}}>\r\n                    <Gallery \r\n                        tagStyle = {{display: 'none'}}\r\n                        renderItem = {test_render_item}\r\n                        images = {(gallery_images[0] == undefined) ? IMAGES:gallery_images}\r\n                        rowHeight = {75}\r\n                        maxRows = {10}\r\n                        enableLightbox = {false}\r\n                        enableImageSelection = {false}\r\n                        onClickThumbnail = {\r\n                            get_lightbox_tb_2\r\n                        }\r\n                    />\r\n                </div>  \r\n            </Scrollbars>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MapGallery;\r\n// }","import {Heading, Paragraph, Link, Strong, Small, Text, Icon, Pane, ArrowRightIcon} from 'evergreen-ui';\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\nimport type {EventRow} from '../../model/map_data';\r\nimport  {EventLevel} from '../../model/enums';\r\nimport {useEffect} from 'react';\r\n\r\ntype EventInfoDisplayProps = {\r\n    info: EventRow | undefined, \r\n}\r\n\r\nfunction EventInfoDisplay({info}: EventInfoDisplayProps){\r\n    const theme = useTheme();\r\n    // start: Date,\r\n    // end: Date,\r\n    // title: string,\r\n    // info: string,\r\n    // tags: string,\r\n    // category: EventLevel, \r\n    const infoContainer= {\r\n        height: '85%',\r\n        paddingTop: '1em',\r\n        // border: `1px solid ${theme.palette.primary.main}`,\r\n    } as React.CSSProperties\r\n    const infoBody= {\r\n        color: theme.palette.primary.main,\r\n        fontSize: \"9pt\",\r\n        lineHeight: \"9pt\",\r\n    } as React.CSSProperties\r\n\r\n    const infoHeader= {\r\n        color: theme.palette.primary.main,\r\n        fontSize: \"9pt\",\r\n        lineHeight: \"5pt\",\r\n        // borderBottom: `1px solid ${theme.palette.primary.main}`,\r\n        textDecoration: \"underline\",\r\n    } as React.CSSProperties\r\n\r\n    const paragraph ={\r\n        // : \"left\"\r\n        color: theme.palette.primary.main,\r\n        fontSize: \"9pt\",\r\n        lineHeight: \"15pt\",\r\n    } as React.CSSProperties; \r\n\r\n    const default_val: EventRow ={\r\n        start: new Date(1/1/1900),\r\n        end: new Date(1/1/1900),\r\n        title: \"\",\r\n        info: \"\",\r\n        tags: \"\",\r\n        category: EventLevel.national,\r\n    }\r\n    const data = info ?? default_val;\r\n    useEffect(()=>{\r\n\r\n    }, [info])\r\n  \r\n    return(\r\n        <div style = {infoContainer}>\r\n            {/* <Pane> */}\r\n\r\n        \r\n            <Text style = {infoHeader}>\r\n                <Paragraph>\r\n                {data.title}\r\n                </Paragraph>\r\n            </Text>\r\n            <Text style = {paragraph}>\r\n            <Paragraph style = {paragraph}>\r\n                {data.info}\r\n                </Paragraph>\r\n            </Text>\r\n            {/* </Pane> */}\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default EventInfoDisplay;","// import {v4 as uuid} from 'uuid';\r\nimport {useState} from 'react'\r\nimport { useTheme, Theme } from \"@material-ui/core/styles\";\r\nimport { useStoreState } from \"../hooks\";\r\nimport { useEffect } from 'react';\r\nimport {Text} from 'evergreen-ui';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport EventInfoDisplay from './Timeline/EventInfoDisplay';\r\nimport type {EventRow} from '../model/map_data';\r\nimport {AuthorDisciplineFilter, TopicSubCategoryFilter, ThemeCategoryFilter} from '../model/enums';\r\n// https://codesandbox.io/s/react-timeseries-charts-axis-color-forked-060kt\r\n// https://codesandbox.io/s/l28vmvp2n9?from-embed\r\n\r\nimport {\r\n  ChartContainer,\r\n  ChartRow,\r\n  Charts,\r\n  EventChart,\r\n  Resizable,\r\n  YAxis,\r\n} from \"react-timeseries-charts\";\r\nimport { TimeSeries, TimeRangeEvent, TimeRange } from \"pondjs\";\r\nimport { isExternalModuleNameRelative } from \"typescript\";\r\n\r\ninterface Seperator{\r\n  pos: number, \r\n  name: string, \r\n}\r\n\r\nconst Timeline = function() {\r\n  const active_filter = useStoreState(state=>state.map_data?.filter);\r\n  const time_series = useStoreState(state=>state.map_data.timeline_series);\r\n  const event_rows: EventRow[] = useStoreState(state=>state.map_data.event_spreadsheet);\r\n  const [eventInfo, setEventInfo] = useState<EventRow | undefined>(undefined);\r\n  const [selectedEvent, setSelectedEvent] = useState<TimeSeries | undefined>(undefined);\r\n  const theme = useTheme();\r\n  const row_height = 13;\r\n  const start_date= new Date(1792,0,1);\r\n  const end_date = new Date(2020,0,1)\r\n\r\n  const timelineSection = {\r\n    height: '100px', \r\n    width: '100%',\r\n    borderTop: `1px solid ${theme.palette.primary.main}`,\r\n  }\r\n\r\n  const testChart = {\r\n    width: \"100%\", \r\n    height: \"80%\",\r\n    margin: 'auto',\r\n    marginTop: '1em',\r\n  }\r\n\r\n  const linesContainer= {\r\n    position: 'absolute',\r\n    width: \"100%\", \r\n    height: \"100%\",\r\n    top: 0, \r\n    zIndex: -1,\r\n    opacity: 0.5,\r\n  } as React.CSSProperties\r\n\r\n  const seriesCategoryLabel= {\r\n    position: 'absolute',\r\n    width: \"100%\", \r\n    height: \"100%\",\r\n    top: 0, \r\n  } as React.CSSProperties\r\n\r\n  const seperatorText = {\r\n    fontSize: '9px',\r\n    position: 'absolute',\r\n    color: 'lightgrey',\r\n  } as React.CSSProperties\r\n\r\n  const historicalEventsText = {\r\n    fontSize: '9px',\r\n    position: 'absolute',\r\n    color: theme.palette.primary.main,\r\n  } as React.CSSProperties\r\n\r\n  // useEffect(()=>{\r\n  //   console.log(\"ACTIVE FILTERS CHANGE \")\r\n  // }, active_filter)\r\n\r\n  let timerange = new TimeRange(start_date, end_date);\r\n  const make_series = (series: TimeSeries[], theme: Theme, active_filter: any, row_height: number) => {\r\n    console.log(\"🚀 ~ file: Timeline.tsx ~ line 224 ~ active_filter\", active_filter)\r\n      \r\n      let test = series.map(function(ev, i){\r\n        let base_style = {\r\n          fill: theme.palette.primary.main,\r\n          opacity: 0.4\r\n        }\r\n        \r\n        // for (let event of ev.events()) { \r\n        //   let real_key = Array.from(event.data().get(0).keys())[1]\r\n        //   const tags = Array.from(event.data().get(0).get(real_key))\r\n        //   console.log(tags)\r\n        //   console.log(active_filter[0])\r\n  \r\n        //   if (tags.some(t=>t == active_filter[0])){\r\n        //     console.log(\"had active filter\");\r\n        //   } else {\r\n        //     base_style.opacity = 0.1; \r\n        //     console.log(\"no active filter\");\r\n        //   }\r\n        // }\r\n        function style_func(s: any, e: any){\r\n          // my_still.fill, \r\n          \r\n          return base_style\r\n  \r\n        }\r\n        function label_func(e: any){\r\n          return e.data().first().get(\"title\")\r\n        }\r\n        function handle_click(e: any){\r\n          console.log(e.data().first().get(\"title\"))\r\n          let title = e.data().first().get(\"title\");\r\n          let found_row = event_rows.filter(r=>r.title === title)[0];\r\n          // console.log(getAll/)\r\n          setEventInfo(found_row);\r\n          setSelectedEvent(e)\r\n          console.log(found_row);\r\n          console.log(getAllFuncs(e));\r\n          // console.log(e.fun)\r\n        }\r\n        // let ev_test = ev.events();\r\n        // console.log(ev_test);\r\n      return (\r\n  \r\n        <ChartRow height = {`${row_height}`} style = {{fill: \"#f1a340\"}} key = {i} axisMargin = {1}>\r\n          <Charts>\r\n            <EventChart\r\n              series = {ev}\r\n              size = {row_height}\r\n              label = {(e: any)=>label_func(e)}\r\n              onSelectionChange = {(e: any)=>handle_click(e)}\r\n              textOffsetY  = {-5}\r\n              // label = {(e: any)=>e.data().frist().get(\"title\")}\r\n              style={style_func}\r\n  \r\n              // style={my_style}\r\n              // style={eventStyles}\r\n            ></EventChart>\r\n          </Charts>\r\n        </ChartRow>\r\n        )\r\n      \r\n    })\r\n    return test\r\n  }\r\n\r\n  return (\r\n    <Grid container spacing = {0} style = {timelineSection}>\r\n      <Grid item xs = {3}>\r\n        {/* <div></div> */}\r\n        <Text style = {historicalEventsText}>\r\n\r\n          <span> HISTORICAL EVENTS</span>\r\n        </Text>\r\n        <EventInfoDisplay info = {eventInfo}></EventInfoDisplay>\r\n      </Grid>\r\n        <Grid item xs = {9}>\r\n          <div style = {{position: 'relative'}}>\r\n          <div style = {linesContainer}>\r\n            { \r\n              Array.from([{pos: 0, name: \"NATIONAL\"},{pos: 1, name: \"STATE\"},{pos: 2, name: \"LOCAL\"}]).map(function(f: Seperator){\r\n                const testtest = {\r\n                  top: `${f.pos*33}%`,\r\n                  position: 'relative',\r\n                  height: '0px',\r\n                  borderTop: `1px solid lightgrey`,\r\n                } as React.CSSProperties\r\n              \r\n                return(\r\n                  <div style = {testtest}>\r\n                    <Text style ={seperatorText}>{f.name}</Text>\r\n                    {/* <Small size = {100}>test</Small> */}\r\n                  </div>\r\n                )\r\n              })\r\n            }\r\n\r\n          </div>\r\n          <Resizable style = {testChart}>\r\n              <ChartContainer\r\n              timeRange={timerange}\r\n              enablePanZoom={false}\r\n              width = {1000}\r\n              >\r\n              { make_series(time_series.national, theme, active_filter, row_height )}\r\n\r\n              { make_series(time_series.state, theme, active_filter, row_height )}\r\n\r\n              { make_series(time_series.city, theme, active_filter, row_height )}\r\n              </ChartContainer>\r\n          </Resizable>\r\n        </div>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\n\r\nexport default Timeline\r\n\r\nfunction getAllFuncs(toCheck: any) {\r\n  var props: any[] = [];\r\n  var obj = toCheck;\r\n  do {\r\n      props = props.concat(Object.getOwnPropertyNames(obj));\r\n  } while (obj = Object.getPrototypeOf(obj));\r\n\r\n  return props.sort().filter(function(e, i, arr) { \r\n     if (e!=arr[i+1] && typeof toCheck[e] == 'function') return true;\r\n  });\r\n}\r\n\r\n","import React from 'react'; // we need this to make JSX compile\r\nimport { useTheme, withStyles } from \"@material-ui/core/styles\";\r\nimport {Heading} from 'evergreen-ui';\r\ntype SelectorSectionProps = { \r\n    title: string, \r\n    children: JSX.Element,\r\n}\r\n\r\n\r\n\r\nexport const SelectorSection = ({title, children}: SelectorSectionProps) => {\r\n    const theme = useTheme();\r\n\r\n    const container = {\r\n        height: \"100%\",\r\n        padding: 0,\r\n        paddingLeft: '.25em',\r\n        paddingReft: '.25em',\r\n    } as React.CSSProperties\r\n\r\n    const headerContainer = {\r\n        borderBottom: `1px solid ${theme.palette.primary.main}`,\r\n        paddingBottom: '.1em',\r\n        height: \"20%\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignContent: \"center\",\r\n    } as React.CSSProperties\r\n\r\n    const header = {\r\n        color: theme.palette.primary.main,\r\n        marginTop: 0,\r\n        marginBottom: 'auto',\r\n    } as React.CSSProperties\r\n\r\n    return (\r\n    <div style = {container}>\r\n        <div style = {headerContainer}>\r\n            <Heading size = {300} style = {header}>{title}</Heading>\r\n        </div>\r\n        {children}\r\n    </div> \r\n    )\r\n}\r\n\r\nexport default SelectorSection","import Grid from '@material-ui/core/Grid';\r\nimport {Link, Heading, Paragraph, Text, Icon, ArrowRightIcon} from 'evergreen-ui';\r\nimport { useTheme, withStyles } from \"@material-ui/core/styles\";\r\nimport React from 'react';\r\n\r\nexport type SelectorGroupProps = { \r\n    title: string | null, \r\n    size: number, \r\n    // cols: number,\r\n    children?: JSX.Element|JSX.Element[],\r\n}\r\n\r\n\r\n\r\nconst SelectorGroup = ({title, children}: SelectorGroupProps) => {\r\n    const theme = useTheme();\r\n    const groupStyle = {\r\n        textDecoration: 'underline',\r\n        color: theme.palette.primary.main,\r\n    } as React.CSSProperties;\r\n    const childContainer = {\r\n        marginTop: (title !== null)?'.25em':0,\r\n        // height: 'fit-content',\r\n        // margin: 'auto',\r\n    } as React.CSSProperties;\r\n    \r\n    const headerAndChild = {\r\n        height: 'fit-content',\r\n        marginTop: 'auto',\r\n        marginBottom: 'auto',\r\n    }\r\n    return (\r\n        <div style = {headerAndChild}>\r\n            <div >\r\n            <Text >\r\n                <Heading size = {100} style = {groupStyle}>\r\n                    {title}\r\n                </Heading>\r\n            </Text>\r\n            </div>\r\n            <div style = {childContainer}>\r\n                {children}\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default SelectorGroup;","import Grid from '@material-ui/core/Grid';\r\nimport {Link, Paragraph, Text, Icon, ArrowRightIcon} from 'evergreen-ui';\r\nimport { useTheme, withStyles } from \"@material-ui/core/styles\";\r\nimport React from 'react';\r\nimport type {SelectorGroupProps} from './SelectorGroup';\r\n// import '../../../css/SelectorParent.css';\r\ntype SelectorParentProps = { \r\n    children?: JSX.Element|JSX.Element[],\r\n    // children?: (title: string) => React.ReactElement[]\r\n}\r\n\r\n\r\nconst SelectorParent = ({children}: SelectorParentProps) => {\r\n    const theme = useTheme();\r\n    const padding_amount = '.1em';\r\n    const clusterContainer = {\r\n        height: '76%',\r\n        padding: 0,\r\n        // display: 'flex',\r\n    } as React.CSSProperties\r\n    \r\n    const selectorGroup = {\r\n        // paddingTop: '.25em',\r\n        display: 'flex',\r\n        paddingLeft: '.25em',\r\n        paddingRight: '.25em',\r\n        height: \"100%\",\r\n        borderLeft: `1px dashed ${theme.palette.primary.main}`, \r\n        borderRight: `1px dashed ${theme.palette.primary.main}`, \r\n    } as React.CSSProperties\r\n\r\n    const noSiblings = {\r\n        display: 'flex',\r\n        // paddingTop: '.25em',\r\n        paddingRight: '.25em',\r\n        paddingLeft: '.25em',\r\n        height: \"100%\",\r\n    } as React.CSSProperties\r\n\r\n    const selectorGroupFirst = {\r\n        // paddingTop: '.25em',\r\n        display: 'flex',\r\n        paddingLeft: 0,\r\n        height: \"100%\",\r\n        borderRight: `1px dashed ${theme.palette.primary.main}`, \r\n    } as React.CSSProperties\r\n\r\n    const selectorGroupLast = {\r\n        display: 'flex',\r\n        // paddingTop: '.25em',\r\n        paddingLeft: '.25em',\r\n        height: \"100%\",\r\n        borderLeft: `1px dashed ${theme.palette.primary.main}`, \r\n    } as React.CSSProperties\r\n\r\n    const group_style = (ind: number, chil: JSX.Element|JSX.Element[]) =>{\r\n        if (Array.isArray(chil)){\r\n            if (ind == 0){\r\n                return selectorGroupFirst\r\n            }\r\n            if (ind == chil.length-1){\r\n                return selectorGroupLast\r\n            } else {\r\n                return selectorGroup\r\n            }\r\n        } else {\r\n            return noSiblings\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Grid container spacing = {0} direction = \"row\" style = {clusterContainer}>\r\n            {children ? React.Children.map<React.ReactNode, React.ReactNode>(children, (child, index) => {\r\n                if (React.isValidElement(child)) {\r\n                    return (<Grid style ={group_style(index, children)} item xs = {child.props.size}>{child}</Grid>)\r\n                }\r\n            }): null}\r\n\r\n        </Grid>\r\n    )\r\n\r\n}\r\n\r\nexport default SelectorParent;\r\n","import React, { useState, useEffect } from 'react'; // we need this to make JSX compile\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\nimport blue from '@material-ui/core/colors/blue';\r\ntype UnitProps = { \r\n    color: number, \r\n    is_active_filter?: boolean,\r\n}\r\n\r\n\r\nexport const GridUnit = ({ color, is_active_filter}: UnitProps) => {\r\n    const theme = useTheme();\r\n    const size = 12; \r\n    // const outline = is_active_filter??\"\";\r\n    // useEffect(()=>{\r\n\r\n    // }, [color])\r\n    const [hover, setHover] = useState(false);\r\n    const match_color = (ind: number) =>{\r\n        if (ind == -1){\r\n            return blue[100]\r\n        }\r\n        if (ind == 0){\r\n            return theme.palette.primary.main\r\n        };\r\n        if (ind == 1){\r\n            return blue[300]\r\n        };\r\n        if (ind == 2){\r\n            return blue[400]\r\n        };\r\n        if (ind == 3){\r\n            return blue[500]\r\n        };\r\n        if (ind == 4){\r\n            return theme.palette.primary.dark\r\n        } else {\r\n            return \"red\"\r\n        }\r\n    }\r\n    let col_keys = Object.keys(theme.palette.primary);\r\n    \r\n    // let bg_color = theme.palette.primary[]\r\n    // const boxStyle = {\r\n    //     width: `${size}px`, \r\n    //     height: `${size}px`,\r\n    //     backgroundColor: match_color(color),\r\n    //     marginTop: 'auto',\r\n    //     marginBottom: '3px',\r\n    //     marginRight: '3px'\r\n    // } as React.CSSProperties;\r\n    const boxStyle = (is_active_filter?: boolean) => {\r\n        if (is_active_filter){\r\n            console.log(\"GOT ACTIVE FILTER~~\");\r\n            return {\r\n            width: `${size}px`, \r\n            height: `${size}px`,\r\n            backgroundColor: match_color(color),\r\n            marginTop: 'auto',\r\n            marginBottom: '3px',\r\n            marginRight: '3px',\r\n            outline: '1px solid #ffcb06'\r\n            } as React.CSSProperties;\r\n\r\n        } else {\r\n            return {\r\n            width: `${size}px`, \r\n            height: `${size}px`,\r\n            backgroundColor: match_color(color),\r\n            marginTop: 'auto',\r\n            marginBottom: '3px',\r\n            marginRight: '3px',\r\n        } as React.CSSProperties;\r\n        }\r\n\r\n    } \r\n    // if (is_active_filter){\r\n    //     boxStyle.outline = \"1px solid white\",\r\n    // }\r\n    return (\r\n    <div style = {boxStyle(is_active_filter)} onMouseEnter={()=>setHover(true)} onMouseLeave = {()=>setHover(false)}>\r\n        \r\n    </div> \r\n    )\r\n}\r\n\r\n\r\nexport default GridUnit","// import Grid from '@material-ui/core/Grid';\r\n// import { useTheme, withStyles } from \"@material-ui/core/styles\";\r\nimport GridUnit from './GridUnit';\r\nimport { useStoreActions, useStoreState } from \"../../../hooks\";\r\nimport {useState, useEffect} from 'react';\r\nimport {AuthorDisciplineFilter, TopicSubCategoryFilter, ThemeCategoryFilter} from '../../../model/enums';\r\ninterface GridChunkProps{\r\n  count: number,\r\n  filter: TopicSubCategoryFilter | AuthorDisciplineFilter | ThemeCategoryFilter | null,\r\n  base_color: number,\r\n}\r\n\r\nfunction roundToStep(value: number, step:number) {\r\n  const val = Math.round(value / step) * step;\r\n  let num_cols = val/step;\r\n  const max_num_rows = step;\r\n\r\n  if (value !== undefined && value !==null){\r\n    let test_arrs = Array.from(Array(num_cols).keys()).map((k: number, i:number)=>{\r\n      let num_units = 0;\r\n      if (i==num_cols-1){\r\n        num_units = max_num_rows - Math.abs((value-val))\r\n        // num_units = max_num_rows + (value-val)\r\n      } else {\r\n        num_units = step; \r\n      }\r\n      const col_data: any = {\r\n        count: num_units\r\n      };\r\n      return col_data\r\n    })\r\n    console.log(test_arrs);\r\n    return test_arrs\r\n  }\r\n\r\n}\r\n\r\nconst GridChunk = ({count, filter, base_color}: GridChunkProps) =>{\r\n  const rowContainer = {\r\n    // marginTop: '.25em',\r\n    // width: ''\r\n    // width: '14px',\r\n    // position: 'absolute',\r\n    // bottom: 0,\r\n    // backgroundColor: 'red',\r\n    // width: '12%',\r\n  } as React.CSSProperties\r\n  \r\n  const chunkContainer = {\r\n    height: '100%',\r\n    display: 'flex',\r\n    position: 'relative',\r\n    // j\r\n    // width: 15,\r\n    // bottom: 0,\r\n  } as React.CSSProperties\r\n\r\n  const real_filter = useStoreState(state=>state.map_data.filter);\r\n  const set_filter = useStoreActions(actions=>actions.map_data.thunk_set_filter);\r\n  const set_row_color = (is_active_filter: boolean, is_hovered: boolean, base_color: number) => {\r\n    if (is_active_filter) {\r\n      return 4\r\n    } else {\r\n      return is_hovered?-1:base_color\r\n      // return is_hovered?base_color-1:base_color\r\n    }\r\n}\r\n  const [hovered, setHovered] = useState(false);\r\n    useEffect(()=>{\r\n    }, [real_filter])\r\n\r\n    useEffect(()=>{\r\n    }, [hovered])\r\n  \r\n  const adjust_width = (base_style: React.CSSProperties, num_cols: number) =>{\r\n    base_style.width = 15*num_cols;\r\n    return base_style\r\n  }\r\n\r\n  let group_columns: any = roundToStep(count, 3)\r\n  const to_chunk = (col_list?: any[])=>{\r\n    if (col_list){\r\n      return (  \r\n        <div style = {chunkContainer} \r\n        onMouseUp = {()=>set_filter(filter)}\r\n        onMouseEnter = {()=>setHovered(!hovered)}\r\n        onMouseLeave ={()=>setHovered(!hovered)}\r\n        >\r\n          {      \r\n            Array.from(Array(col_list.length).keys()).map((r: number)=>{\r\n              console.log(col_list);\r\n              let cur_col: any = col_list[r];\r\n              return (\r\n                // <div style = {adjust_width(rowContainer, col_list.length)}>\r\n                <div style = {rowContainer}>\r\n                {            \r\n                  Array.from(Array(cur_col.count).keys()).map((c: any)=>{\r\n                    console.log(cur_col.count);\r\n                    return (<GridUnit color = {set_row_color((filter === real_filter), hovered, base_color)} is_active_filter = {filter === real_filter}/>)\r\n                  })\r\n                }\r\n                </div>\r\n              )\r\n            })\r\n          }\r\n          </div>\r\n      )\r\n    }\r\n  }\r\n  return (  \r\n      <>\r\n        { to_chunk(group_columns)}\r\n      </>\r\n  )\r\n}\r\n\r\nexport default GridChunk","// import Grid from '@material-ui/core/Grid';\r\nimport {Paragraph, Text} from 'evergreen-ui';\r\nimport { useTheme, withStyles } from \"@material-ui/core/styles\";\r\nimport SelectorGroup from './Containers/SelectorGroup';\r\nimport SelectorParent from './Containers/SelectorParent';\r\nimport GridChunk from './Grid/GridChunk';\r\nimport GridUnit from './Grid/GridUnit';\r\nimport { useStoreState } from \"../../hooks\";\r\nimport {AuthorDisciplineFilter} from '../../model/enums';\r\n\r\n\r\nfunction to_author_enum(discipline: string, year: string): AuthorDisciplineFilter{\r\n    const filter_string = discipline+\"_\"+year;\r\n    const filter_enum =  AuthorDisciplineFilter[filter_string as unknown as keyof typeof AuthorDisciplineFilter]\r\n    return filter_enum; \r\n}\r\n\r\nconst YearDiscipline = () => {\r\n    const theme = useTheme();\r\n    const year_data = useStoreState(state=>state.map_data?.map_stats?.year);\r\n    console.log(year_data);\r\n\r\n    const chunksContainer = {\r\n        // position: 'relative',\r\n        display: 'flex',\r\n        height: '51px',\r\n\r\n    } as React.CSSProperties;\r\n\r\n    const disciplineStyle = {\r\n        color: theme.palette.primary.main,\r\n        fontSize: '8pt',\r\n        justifyContent: 'space-between',\r\n    \r\n    } as React.CSSProperties\r\n    const rowContainer = {\r\n        display: 'flex',\r\n        fontSize: '8pt',\r\n        height: 20,\r\n        // paddingTop: 10,\r\n        marginTop: -4,\r\n\r\n        // : 'center',\r\n    } as React.CSSProperties\r\n\r\n    const make_year_chunks = (year: string, year_breakdown?: any) =>{\r\n        \r\n        if (year_breakdown){\r\n            // console.log(year_breakdown);\r\n            // const filter_string = \"ARTDESIGN_\"+year;\r\n            // let filter_enum_string = [filter_string as unknown as keyof typeof AuthorDisciplineFilter]\r\n            return (\r\n                <div style = {chunksContainer}>\r\n                    <GridChunk base_color = {0} count = {year_breakdown.ARCHITECTURE} filter = {to_author_enum(\"ARCHITECTURE\", year)}/>\r\n                    <GridChunk base_color = {1} count = {year_breakdown.ARCHITECTURE} filter = {to_author_enum(\"ARTDESIGN\", year)}/>\r\n                    <GridChunk base_color = {2} count = {year_breakdown.ARCHITECTURE} filter = {to_author_enum(\"LANDSCAPE\", year)}/>\r\n                    <GridChunk base_color = {3} count = {year_breakdown.ARCHITECTURE} filter = {to_author_enum(\"OTHER\", year)}/>\r\n                    {/* <GridChunk base_color = {1} count = {year_breakdown.ARTDESIGN} filter = {AuthorDisciplineFilter.ARTDESIGN}/> */}\r\n                    {/* <GridChunk base_color = {2} count = {year_breakdown.LANDSCAPE} filter = {AuthorDisciplineFilter.LANDSCAPE}/> */}\r\n                    {/* <GridChunk base_color = {3} count = {year_breakdown.OTHER} filter = {AuthorDisciplineFilter.OTHER}/> */}\r\n                </div>\r\n                )\r\n        }\r\n    }\r\n    return (\r\n       <>\r\n        <SelectorParent>\r\n            <SelectorGroup title = {null} size = {3}>\r\n                <div style = {rowContainer}>\r\n                    <GridUnit color = {0}/>\r\n                    <Paragraph style = {disciplineStyle}>ARCHITECTURE</Paragraph>\r\n                </div>\r\n                <div style = {rowContainer}>\r\n                    <GridUnit color = {1}/>\r\n                    <Text style = {disciplineStyle}>\r\n                        <Paragraph style = {disciplineStyle}>LANDSCAPE ARCH</Paragraph>\r\n                    </Text>\r\n                </div>\r\n                <div style = {rowContainer}>\r\n                    <GridUnit color = {2} />\r\n                    <Paragraph style = {disciplineStyle}>ART + DESIGN</Paragraph>\r\n                </div>\r\n                <div style = {rowContainer}>\r\n                    <GridUnit color = {3}/>\r\n                    <Paragraph style = {disciplineStyle}>OTHER</Paragraph>\r\n                </div>\r\n            </SelectorGroup>\r\n            <SelectorGroup title = {\"2016\"} size = {3}>\r\n                {\r\n                    make_year_chunks(\"2016\", year_data[\"2016\"])\r\n                }\r\n            </SelectorGroup>\r\n            <SelectorGroup title = {\"2018\"} size = {3}>\r\n            {\r\n                    make_year_chunks( \"2018\", year_data[\"2018\"])\r\n                }\r\n            </SelectorGroup>\r\n            <SelectorGroup title = {\"2020\"} size = {3}>\r\n            {\r\n                    make_year_chunks(\"2020\", year_data[\"2020\"])\r\n                }\r\n            </SelectorGroup>\r\n        </SelectorParent>\r\n      </>\r\n    )\r\n\r\n}\r\n\r\nexport default YearDiscipline;","// import Grid from '@material-ui/core/Grid';\r\nimport {Link, Paragraph, Text, Icon, ArrowRightIcon} from 'evergreen-ui';\r\nimport { useTheme, withStyles } from \"@material-ui/core/styles\";\r\nimport SelectorGroup from './Containers/SelectorGroup';\r\nimport SelectorParent from './Containers/SelectorParent';\r\nimport { useStoreActions, useStoreState } from \"../../hooks\";\r\nimport GridChunk from './Grid/GridChunk';\r\nimport {AuthorDisciplineFilter, TopicSubCategoryFilter, ThemeCategoryFilter} from '../../model/enums';\r\n\r\ninterface GridChunkProps{\r\n  count: number,\r\n  rows: number,\r\n  cols: number, \r\n  filter: TopicSubCategoryFilter | AuthorDisciplineFilter | ThemeCategoryFilter | null,\r\n}\r\n\r\n\r\nconst Themes = () => {\r\n    const theme = useTheme();\r\n    const total_count = 35;\r\n    const theme_stats = useStoreState(state=>state.map_data?.map_stats?.theme);\r\n    // const theme_stats = map_stats.theme;\r\n    return (\r\n       <>\r\n        <SelectorParent>\r\n            <SelectorGroup title = {\"Equity\"} size = {4}>\r\n              <GridChunk count = {theme_stats.EQUITY} filter = {ThemeCategoryFilter.EQUITY} base_color = {0}/>\r\n            </SelectorGroup>\r\n            <SelectorGroup title = {\"Access\"} size = {4}>\r\n              <GridChunk count = {theme_stats.ACCESS} filter = {ThemeCategoryFilter.ACCESS}  base_color = {0}/>\r\n            </SelectorGroup>\r\n            <SelectorGroup title = {\"Diversity\"} size = {4}>\r\n              <GridChunk count = {theme_stats.DIVERSITY} filter = {ThemeCategoryFilter.DIVERSITY}  base_color = {0}/>\r\n            </SelectorGroup>\r\n        </SelectorParent>\r\n      </>\r\n    )\r\n\r\n}\r\n\r\nexport default Themes;","import { useStoreActions, useStoreState } from \"../../../hooks\";\r\nimport {Link, Paragraph, Text, Icon,} from 'evergreen-ui';\r\nimport { useTheme, withStyles } from \"@material-ui/core/styles\";\r\nimport {useState, useEffect, cloneElement} from 'react';\r\nimport GridUnit from './GridUnit';\r\nimport {AuthorDisciplineFilter, TopicSubCategoryFilter, ThemeCategoryFilter} from '../../../model/enums';\r\nimport blue from '@material-ui/core/colors/blue';\r\n\r\n\r\ninterface GridRowProps{\r\n    count: number,\r\n    active_filter: TopicSubCategoryFilter | AuthorDisciplineFilter | ThemeCategoryFilter | null,\r\n    filter: TopicSubCategoryFilter | AuthorDisciplineFilter | ThemeCategoryFilter,\r\n    icon: JSX.Element,\r\n}\r\n\r\nconst GridRow =({count, icon, filter, active_filter}: GridRowProps) => {\r\n    const theme = useTheme();\r\n    const [hovered, setHovered] = useState(false);\r\n    const real_filter = useStoreState(state=>state.map_data.filter);\r\n    const set_filter = useStoreActions(actions=>actions.map_data.thunk_set_filter);\r\n\r\n    const set_row_color = (is_active_filter: boolean, is_hovered: boolean) => {\r\n        if (is_active_filter) {\r\n          return 4\r\n        } else {\r\n          return is_hovered?4:0\r\n        }\r\n    }\r\n    const set_icon_color = (is_active_filter: boolean, is_hovered: boolean) => {\r\n        return is_hovered?blue[100]:theme.palette.primary;\r\n    }\r\n    useEffect(()=>{\r\n        console.log(filter === real_filter);\r\n        console.log(filter, real_filter)\r\n    }, [real_filter])\r\n\r\n    useEffect(()=>{\r\n    }, [hovered])\r\n\r\n    const rowGrid = {\r\n      width: '100%', \r\n      // height: '100%',\r\n      display: 'flex',\r\n      // height: 12,\r\n      // marginTop: '.25em',\r\n    } as React.CSSProperties;\r\n\r\n    return (\r\n      <div style = {rowGrid} \r\n       onMouseEnter = {()=>setHovered(!hovered)}\r\n       onMouseLeave ={()=>setHovered(!hovered)}\r\n       onMouseUp = {()=>{set_filter(filter);}}\r\n      >\r\n        {\r\n          Array.from(Array(count)).map((r, i)=>{\r\n            return(\r\n              <GridUnit key = {i} color = {set_row_color((real_filter === filter), hovered)} is_active_filter = {real_filter === filter}></GridUnit>\r\n            )\r\n\r\n          })\r\n          \r\n        }\r\n        {icon}\r\n      </div>\r\n    )\r\n} \r\n\r\nexport default GridRow","// import Grid from '@material-ui/core/Grid';\r\nimport { useTheme, withStyles } from \"@material-ui/core/styles\";\r\nimport SelectorGroup from './Containers/SelectorGroup';\r\nimport SelectorParent from './Containers/SelectorParent';\r\nimport GridRow from './Grid/GridRow';\r\nimport {useEffect} from 'react';\r\nimport {TopicSubCategoryFilter} from '../../model/enums';\r\n// https://material-ui.com/components/material-icons/\r\n\r\nimport {\r\n  LightbulbIcon,\r\n  HomeIcon,\r\n  ChartIcon,\r\n  BriefcaseIcon,\r\n  TreeIcon,\r\n  SymbolCrossIcon,\r\n  PeopleIcon, \r\n} from 'evergreen-ui';\r\n\r\nimport {\r\n  DirectionsBus, \r\n  Apartment,\r\n  Opacity,\r\n  Gavel,\r\n  AccountBalance,\r\n  VolumeUp,\r\n  School,\r\n} from  '@material-ui/icons';\r\n\r\nimport {useStoreState } from \"../../hooks\";\r\n\r\n\r\nconst MapLens = () => {\r\n    const theme = useTheme();\r\n    const testStyle = {\r\n      fill: theme.palette.primary.main,\r\n    };\r\n    \r\n    const tag_stats = useStoreState(state=>state.map_data?.map_stats?.tag);\r\n    const active_filter = useStoreState(state=>state.map_data.filter);\r\n    // const tag_stats = map_stats?.tag;\r\n    console.log(tag_stats);\r\n\r\n\r\n    return (\r\n       <>\r\n        <SelectorParent>\r\n            <SelectorGroup title = {\"Built\"} size = {2}>\r\n              <GridRow active_filter = {active_filter} filter = {TopicSubCategoryFilter.BE_ENERGY} count = {tag_stats.BE?.ENERGY} icon = {<LightbulbIcon color = {theme.palette.primary.main} size = {12}/>}></GridRow>\r\n              <GridRow active_filter = {active_filter} filter = {TopicSubCategoryFilter.BE_HOUSING} count = {tag_stats.BE?.HOUSING} icon = {<Apartment color = {\"primary\"} style ={{fontSize: \"12pt\"}}/>}></GridRow>\r\n              <GridRow active_filter = {active_filter} filter = {TopicSubCategoryFilter.BE_TRANSPORTATION} count = {tag_stats.BE?.TRANSPORTATION} icon = {<DirectionsBus fontSize = \"small\" color = {\"primary\"} style ={{fontSize: \"12pt\"}}/>}/>\r\n            </SelectorGroup>\r\n            <SelectorGroup title = {\"Economic\"} size = {3}>\r\n              <GridRow active_filter = {active_filter}  filter = {TopicSubCategoryFilter.EE_COSTOFLIVING} count = {tag_stats.EE?.COSTOFLIVING} icon = {<HomeIcon color = {theme.palette.primary.main} size = {12}/>}></GridRow>\r\n              <GridRow active_filter = {active_filter}  filter = {TopicSubCategoryFilter.EE_HOUSINGMARKET} count = {tag_stats.EE?.HOUSINGMARKET} icon = {<ChartIcon color = {theme.palette.primary.main} size = {12}/>}></GridRow>\r\n              <GridRow active_filter = {active_filter}  filter = {TopicSubCategoryFilter.EE_COMMERCE} count = {tag_stats.EE?.COMMERCE} icon = {<BriefcaseIcon color = {theme.palette.primary.main} size = {12}/>}/>\r\n            </SelectorGroup>\r\n            <SelectorGroup title = {\"Natural\"} size = {2}>\r\n              <GridRow active_filter = {active_filter}  filter = {TopicSubCategoryFilter.NE_GREENSPACE} count = {tag_stats.NE?.GREENSPACE} icon = {<TreeIcon color = {theme.palette.primary.main} size = {12}/>}></GridRow>\r\n              <GridRow active_filter = {active_filter}  filter = {TopicSubCategoryFilter.NE_POLLUTION} count = {tag_stats.NE?.POLLUTION} icon = {<ChartIcon color = {theme.palette.primary.main} size = {12}/>}></GridRow>\r\n              <GridRow active_filter = {active_filter}  filter = {TopicSubCategoryFilter.NE_WATER} count = {tag_stats.NE?.WATER} icon = {<Opacity color = {\"primary\"} style ={{fontSize: \"12pt\"}}/>}/>\r\n            </SelectorGroup>\r\n            <SelectorGroup title = {\"Political\"} size = {3}>\r\n              <GridRow active_filter = {active_filter}  filter = {TopicSubCategoryFilter.PE_GOVERMENT} count = {tag_stats.PE?.GOVERMENT} icon = {<AccountBalance color = {\"primary\"} style ={{fontSize: \"12pt\"}}/>}></GridRow>\r\n              <GridRow active_filter = {active_filter}  filter = {TopicSubCategoryFilter.PE_LEGISLATION} count = {tag_stats.PE?.LEGISLATION} icon = {<Gavel color = {\"primary\"} style ={{fontSize: \"12pt\"}}/>}></GridRow>\r\n              <GridRow active_filter = {active_filter}  filter = {TopicSubCategoryFilter.PE_ACTIVISM} count = {tag_stats.PE?.ACTIVISM} icon = {<VolumeUp color = {\"primary\"} style ={{fontSize: \"12pt\"}}/>}/>\r\n            </SelectorGroup>\r\n            <SelectorGroup title = {\"Social\"} size = {2}>\r\n              <GridRow active_filter = {active_filter} filter = {TopicSubCategoryFilter.SE_EDUCATION} count = {tag_stats.SE?.EDUCATION} icon = {<School color = {\"primary\"} style ={{fontSize: \"12pt\"}}/>}></GridRow>\r\n              <GridRow active_filter = {active_filter} filter = {TopicSubCategoryFilter.SE_HEALTH} count = {tag_stats.SE?.HEALTH} icon = {<SymbolCrossIcon color = {theme.palette.primary.main} size = {12}/>}></GridRow>\r\n              <GridRow active_filter = {active_filter} filter = {TopicSubCategoryFilter.SE_POPULATION} count = {tag_stats.SE?.POPULATION} icon = {<PeopleIcon color = {theme.palette.primary.main} size = {12}/>}/>\r\n            </SelectorGroup>\r\n        </SelectorParent>\r\n      </>\r\n    )\r\n\r\n}\r\n\r\nexport default MapLens;","import Grid from '@material-ui/core/Grid';\r\nimport SelectorSection from './SelectorSection';\r\nimport {Link, Paragraph, Text, Icon, ArrowRightIcon} from 'evergreen-ui';\r\nimport { useTheme, withStyles } from \"@material-ui/core/styles\";\r\nimport YearDiscipline from './Selectors/YearDiscipline';\r\nimport Themes from './Selectors/Themes';\r\nimport MapLens from './Selectors/MapLens';\r\n\r\nconst Toolbar = () => {\r\n    const theme = useTheme();\r\n    const toolbarContainer = {\r\n        height: '15%',\r\n        justifyContent: \"space-between\",\r\n    } as React.CSSProperties\r\n\r\n\r\n    const instructions_paragraph ={\r\n        color: theme.palette.primary.main,\r\n        fontSize: \"9pt\",\r\n        lineHeight: \"12pt\",\r\n    };\r\n    const SelectorContainer = withStyles({\r\n        root: {\r\n            // padding: 0,\r\n            border: `1px solid ${theme.palette.primary.main}`, \r\n            paddingLeft: '.5em',\r\n            paddingRight: '.1em',\r\n        }\r\n    })(Grid);\r\n\r\n    return (\r\n        <Grid container spacing = {1} style = {toolbarContainer}>\r\n        {/* <Grid container spacing = {1} style = {{height: \"15%\", backgroundColor: \"white\", justifyContent: \"space-between\"}}> */}\r\n        {/* <Grid container spacing = {0} style = {{height: \"25%\", backgroundColor: \"white\", justifyContent: \"space-between\"}}> */}\r\n                <SelectorContainer item xs = {12} sm = {12} md = {6} lg = {1}>\r\n                    <SelectorSection title = \"SELECT & FILTER\">\r\n                        <Text style = {instructions_paragraph}>\r\n                            <Paragraph size = {300} style = {instructions_paragraph}>\r\n                            Click on titles to view main categories. Click on rectangle blocks to filter by subcategories.\r\n                            </Paragraph>\r\n                        </Text>\r\n                    </SelectorSection>\r\n                </SelectorContainer>\r\n\r\n                <SelectorContainer item xs = {12} sm = {12} md = {6} lg ={4}>\r\n                    <SelectorSection title = \"YEAR & DISCIPLINE\">\r\n                        <YearDiscipline></YearDiscipline>\r\n                    </SelectorSection>\r\n                </SelectorContainer>\r\n                <SelectorContainer item xs = {12} sm = {12} md = {6} lg = {3}>\r\n                    <SelectorSection title = \"TOPICS\">\r\n                        <MapLens></MapLens>\r\n                    </SelectorSection>\r\n                </SelectorContainer>\r\n                <SelectorContainer item xs = {12} sm = {12} md = {6} lg = {3}>\r\n                    <SelectorSection title = \"THEMES\">\r\n                        <Themes></Themes>\r\n                    </SelectorSection>\r\n                </SelectorContainer>\r\n\r\n  \r\n        </Grid>\r\n    )\r\n\r\n}\r\n\r\nexport default Toolbar;\r\n\r\n\r\n            //     {/* <Grid item xs = {3} style = {gridSect}>\r\n            //         <div style = {{paddingRight: '2em'}}>\r\n\r\n   \r\n            //         {/* <SelectorSection title = \" f \"> */}\r\n            //         <Text>\r\n                        \r\n            //         <Link style = {linkStyle} >WAYS TO EXPEREINCE THIS \r\n            //             <Icon icon = {ArrowRightIcon} size  = {9}/>\r\n            //         </Link>\r\n            //         <Paragraph style = {instructions_paragraph}>Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, \r\n            //             making it over 2000 years old. \r\n            //         </Paragraph>\r\n            //         </Text>\r\n            // </div>\r\n            //     {/* </SelectorSection> */}\r\n            // </Grid> */}","import {useEffect} from 'react';\nimport './App.css';\nimport Grid from '@material-ui/core/Grid';\nimport Sidebar from './Components/Sidebar'\nimport MapGallery from './Components/MapGallery';\nimport Timeline from './Components/Timeline';\nimport { useStoreActions } from \"./hooks\";\nimport Toolbar from './Components/Toolbar'\n\nconst panel_width = \"20%\";\n\n// const test_data = \n// https://docs.google.com/spreadsheets/d/1-S8EkLYsknYoFWSynVeMQCi6Gf9PoV9A5ezzICXamJA/edit?usp=sharing\n    // https://docs.google.com/spreadsheets/d/e/2PACX-1vShkIFNo43AJw8tdtdq4vsa40okE7v4IJbbXUOuIsLpnCYZMaQnPH9k3_YFhm814s2oa9VrVkQbzPNa/pubhtml\nfunction App() {\n  const test_thunk = useStoreActions(actions => actions.map_data.fetch_map_data);\n  \n  useEffect(()=>{\n    test_thunk();\n  },[]);\n  \n  return (\n    <div style = {{padding: '1em'}}>\n    <Grid container spacing = {0}>\n          <Toolbar/>\n          <Grid container spacing = {0} style = {{paddingTop: '2em'}}>\n              <Grid item md = {12} lg = {3}>\n                    <Sidebar/>\n              </Grid>\n              <Grid item md = {12} lg = {9}>\n                    <MapGallery/>\n              </Grid>\n          </Grid>\n          <Grid item xs = {12} style = {{height: \"25%\", padding: 0}}>\n                <Timeline/>\n          </Grid>\n    </Grid>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { createMuiTheme } from \"@material-ui/core\";\r\nimport blue from '@material-ui/core/colors/blue';\r\nexport const theme = createMuiTheme({\r\n    palette:{\r\n        primary: {\r\n            light: blue[100],\r\n            // light: blue[100],\r\n            main: \"#739eae\",\r\n            dark: blue[700],\r\n        }\r\n    },\r\n    spacing: factor => `${0.25 * factor}rem`,\r\n    overrides:{\r\n        MuiGrid:{\r\n            root:{\r\n                margin: '0px'\r\n            }\r\n        }\r\n    }\r\n})","import { Action, action, thunk, Thunk, debug } from 'easy-peasy';\r\nimport GetSheetDone from 'get-sheet-done';\r\nimport { TimeSeries, TimeRangeEvent, TimeRange} from \"pondjs\";\r\nimport { AuthorDisciplineFilter, TopicSubCategoryFilter, ThemeCategoryFilter, EventLevel, GalleryFilterType} from './enums';\r\n\r\nexport interface GalleryImage{\r\n  src: string,\r\n  thumbnail: string,\r\n  isSelected: boolean,\r\n  caption: string, \r\n  thumbnailWidth: number,\r\n  thumbnailHeight: number,\r\n  tags: MapMetada[],\r\n  // tags: Tag[],\r\n}\r\n// discipline: map_row.discipline,\r\n// subtopic: map_row.subtopic,\r\n// theme: map_row.theme,\r\n// year: map_row.year,\r\n\r\nexport interface MapMetada{\r\n  discipline: AuthorDisciplineFilter,\r\n  subtopic: TopicSubCategoryFilter,\r\n  theme: ThemeCategoryFilter, \r\n  year: any,\r\n} \r\n\r\nexport interface Tag{\r\n  value: string, \r\n  title: string, \r\n}\r\n\r\nexport interface LabeledCols<T>{\r\n  data: Array<T>,\r\n  title: string,\r\n  updated: string, \r\n}\r\n\r\n\r\n\r\n// export enum ClassYear{\r\n//   eighteen,\r\n//   sixteen,\r\n//   twenty, \r\n// }\r\n\r\nexport interface MapRow{\r\n  title: string;\r\n  info: string;\r\n  author: string;\r\n  tags: string;\r\n  discipline: string, \r\n  theme: string,\r\n  photo1: string;\r\n  photo2: string;\r\n  photo3: string;\r\n  photo4: string;\r\n  photo5: string;\r\n  thumbnail: string;\r\n  year: string;\r\n  subtopic: string;\r\n}\r\n\r\nexport interface YearDisciplineStats{\r\n  sixteen: YearGroup,\r\n  eighteen: YearGroup,\r\n}\r\n\r\nexport interface MapStats{\r\n  year: any,\r\n  tag: any,\r\n  theme: any,\r\n}\r\n\r\n\r\nexport interface TagStats{\r\n  BE: any,\r\n  EE: any,\r\n  NE: any,\r\n  PE: any, \r\n  SE: any,\r\n}\r\n\r\nexport interface ThemeStats{\r\n  EQUITY: number,\r\n  ACCESS: number,\r\n  DIVERSITY: number,\r\n}\r\n\r\nexport interface YearGroup{\r\n  ARTDESIGN: number,\r\n  ARCHITECTURE: number,\r\n  LANDSCAPE: number,\r\n  OTHER: number,\r\n}\r\n\r\nexport interface LightBoxContent{\r\n  images: PhotoInfo[], \r\n  description: string,\r\n  author: string, \r\n  title: string,\r\n}\r\n\r\nexport interface PhotoInfo{\r\n  source: string, \r\n  kind: string, \r\n}\r\nexport interface EventRow{\r\n  start: Date,\r\n  end: Date,\r\n  title: string,\r\n  info: string,\r\n  tags: string,\r\n  category: EventLevel, \r\n}\r\n\r\nexport interface ExternalData{\r\n  events: EventRow[],\r\n  maps: MapRow[],\r\n}\r\n\r\nexport interface EventData{\r\n  title: string,\r\n  tags: string[]\r\n}\r\n\r\nexport interface TimelineData{\r\n  national: TimeSeries[],\r\n  state: TimeSeries[],\r\n  city: TimeSeries[],\r\n}\r\n\r\n\r\n\r\ntype FilterOption =  AuthorDisciplineFilter | TopicSubCategoryFilter | ThemeCategoryFilter | null;\r\nexport interface FilterObj{\r\n  filter_type: GalleryFilterType,\r\n  filter: FilterOption, \r\n}\r\n\r\nexport interface MapDataModel {\r\n  filter: FilterOption;\r\n  // filters: string[];\r\n  map_spreadsheet: MapRow[],\r\n  map_stats: MapStats | undefined,\r\n  event_spreadsheet: EventRow[],\r\n  active_images: GalleryImage[];\r\n  gallery_images: GalleryImage[];\r\n  timeline_series: TimelineData;\r\n  loaded: boolean;\r\n  active_lightbox: LightBoxContent;\r\n  fetch_map_data: Thunk<MapDataModel>;\r\n  filter_gallery: Action<MapDataModel, FilterObj>;\r\n  set_map_spreadsheet: Action<MapDataModel, MapRow[]>;\r\n  set_map_stats: Action<MapDataModel, MapStats>;\r\n  set_event_spreadsheet: Action<MapDataModel, EventRow[]>;\r\n  set_gallery_images: Action<MapDataModel, GalleryImage[]>;\r\n  set_active_images: Action<MapDataModel, GalleryImage[]>;\r\n  set_timeline_series: Action<MapDataModel, TimelineData>;\r\n  set_active_filter: Action<MapDataModel, FilterOption>;\r\n  thunk_set_filter: Thunk<MapDataModel, FilterOption>;\r\n  reset_gallery: Action<MapDataModel>;\r\n  // thunk_set_filter: Thunk<MapDataModel, string[]>;\r\n  set_active_lightbox: Action<MapDataModel, GalleryImage>;\r\n}\r\n\r\ntype ImagePromise = Promise<HTMLImageElement>;\r\n\r\nconst empty_nat: TimeSeries[] = [];\r\nconst empty_state: TimeSeries[] = [];\r\nconst empty_city: TimeSeries[] = [];\r\nconst test_initial: TimelineData = {\r\n  national: empty_nat, \r\n  state: empty_state, \r\n  city: empty_city,\r\n}\r\n\r\nconst empty_photo: PhotoInfo[] = [];\r\n\r\nconst lb_initial: LightBoxContent = {\r\n  images: empty_photo,\r\n  description: \"default\",\r\n  title: \"string\",\r\n  author: \"some author\",\r\n}\r\n\r\nconst init_map_stats: MapStats = {\r\n  year: {},\r\n  tag: {},\r\n  theme: {},\r\n}\r\n\r\nconst map_data: MapDataModel = {\r\n\r\n  active_images: [],\r\n  filter: null,\r\n  gallery_images: [], \r\n  timeline_series: test_initial, \r\n  loaded: false, \r\n  active_lightbox: lb_initial,\r\n  map_spreadsheet: [],\r\n  map_stats: init_map_stats,\r\n  event_spreadsheet: [],\r\n  fetch_map_data: thunk(async actions =>{\r\n    const DOC_KEY = '1-S8EkLYsknYoFWSynVeMQCi6Gf9PoV9A5ezzICXamJA';\r\n    const map_rows: MapRow[] = [];\r\n    const event_rows: EventRow[] = [];\r\n\r\n    const map_data: ExternalData = {\r\n      events:  event_rows,\r\n      maps:  map_rows\r\n    };\r\n    //get maps sheet\r\n    let test_2018 = get_map_sheet(DOC_KEY, 3);\r\n    let test_2020 = get_map_sheet(DOC_KEY, 4);\r\n    let test_2016 = get_map_sheet(DOC_KEY, 5);\r\n    // console.log(test_2016);\r\n    // let map_sheets = [test_2020, test_2016];\r\n    let map_sheets = [test_2018, test_2020, test_2016];\r\n\r\n    Promise.all(map_sheets).then((sheet_data: (void | MapRow[])[])=>{\r\n      let gallery_image_responses: ImagePromise[] = [];\r\n      let all_unsized_images: GalleryImage[] = [];\r\n\r\n      sheet_data.forEach((sheet_payload: void | MapRow[]) => {\r\n        if (Array.isArray(sheet_payload)){\r\n          let succesful_map_rows = sheet_payload as Array<MapRow>\r\n          let unsized_gallery_images = map_rows_to_images(succesful_map_rows);\r\n          let image_responses: ImagePromise[] = unsized_gallery_images.map((gi: GalleryImage)=>get_image(gi));\r\n          gallery_image_responses.push(...image_responses);\r\n          all_unsized_images.push(...unsized_gallery_images);\r\n          map_data.maps.push(...sheet_payload);\r\n        } else {\r\n          console.error(\"did not get map row array\")\r\n        }\r\n      })\r\n      Promise.all(gallery_image_responses).then((res: HTMLImageElement[])=>{\r\n        let sized_gallery_images = all_unsized_images.map(function(def_img: GalleryImage, i){\r\n            def_img['thumbnailWidth'] =  res[i].width * .05;\r\n            def_img['thumbnailHeight'] =  res[i].height * .05;\r\n            return def_img\r\n        })\r\n        actions.set_gallery_images(sized_gallery_images)\r\n        actions.set_active_images(sized_gallery_images)\r\n      })\r\n      const map_stats= generate_map_stats(map_data.maps);\r\n      actions.set_map_stats(map_stats);\r\n      actions.set_map_spreadsheet(map_data.maps);\r\n    });\r\n\r\n    get_sheet<EventRow>(DOC_KEY, 2).then((event_sheet: LabeledCols<EventRow>)=>{\r\n      const typed_event_rows = type_event_rows(event_sheet.data);\r\n      actions.set_event_spreadsheet(typed_event_rows);\r\n      const timeline_series = make_time_series(typed_event_rows);\r\n      actions.set_timeline_series(timeline_series)\r\n    }).catch((err: any)=>{\r\n      console.error(`Error fetching DOC_KEY ${DOC_KEY}`);\r\n    })\r\n  }),\r\n  set_map_spreadsheet: action((state, map_rows)=>{\r\n    state.map_spreadsheet = map_rows\r\n  }),\r\n  set_map_stats: action((state, map_stats_obj)=>{\r\n    state.map_stats = map_stats_obj;\r\n  }),\r\n  set_event_spreadsheet: action((state, event_rows)=>{\r\n    state.event_spreadsheet = event_rows\r\n  }),\r\n  set_gallery_images: action((state, payload)=>{\r\n    state.gallery_images = payload\r\n  }),\r\n  set_active_images: action((state, payload)=>{\r\n    state.active_images = payload\r\n  }),\r\n  filter_gallery: action((state, filter_option)=>{\r\n    if (filter_option.filter === state.filter){\r\n      state.filter = null;\r\n      state.active_images = state.gallery_images;\r\n    } else {\r\n      if (filter_option.filter_type === GalleryFilterType.TOPIC){\r\n        const with_subtopic = state.gallery_images.filter(gi=>gi.tags[0].subtopic == filter_option.filter)\r\n        state.active_images = with_subtopic;\r\n        state.filter = filter_option.filter;\r\n      }\r\n      if (filter_option.filter_type === GalleryFilterType.THEME){\r\n        const with_theme = state.gallery_images.filter(gi=>gi.tags[0].theme == filter_option.filter)\r\n        state.active_images = with_theme;\r\n        state.filter = filter_option.filter;\r\n      }\r\n      if (filter_option.filter_type === GalleryFilterType.DISCIPLINE){\r\n        let split =  filter_option.filter?.split(\"_\");\r\n        if (split){\r\n          let discipline = split[0];\r\n          let year = split[1];\r\n          console.log(year, discipline);\r\n          // const with_discipline_and_year = state.gallery_images.filter(gi=>gi.tags[0].discipline)\r\n          const with_discipline_and_year = state.gallery_images.filter(gi=>gi.tags[0].discipline === discipline  && gi.tags[0].year === year)\r\n          // const with_discipline_and_year = state.gallery_images.filter(gi=>gi.tags[0].year === year)\r\n          state.active_images = with_discipline_and_year;\r\n          console.log(debug(with_discipline_and_year));\r\n          state.filter = filter_option.filter;\r\n        }\r\n    }\r\n    }\r\n  }),\r\n  set_timeline_series: action((state, timeline_series)=>{\r\n     state.timeline_series =  timeline_series\r\n  }),\r\n  thunk_set_filter: thunk((actions, filter)=>{\r\n    if (filter == null){\r\n      actions.reset_gallery();\r\n    } \r\n    \r\n    let cat_options = Object.values(TopicSubCategoryFilter);\r\n    if (cat_options.includes(filter as TopicSubCategoryFilter)){\r\n      actions.filter_gallery({\r\n        filter_type: GalleryFilterType.TOPIC,\r\n        filter: filter,\r\n      })\r\n    }\r\n\r\n    let theme_options = Object.values(ThemeCategoryFilter);\r\n    if (theme_options.includes(filter as ThemeCategoryFilter)){\r\n      actions.filter_gallery({\r\n        filter_type: GalleryFilterType.THEME,\r\n        filter: filter,\r\n      })\r\n    } \r\n\r\n    let author_options = Object.values(AuthorDisciplineFilter);\r\n    if (author_options.includes(filter as AuthorDisciplineFilter)){\r\n      actions.filter_gallery({\r\n        filter_type: GalleryFilterType.DISCIPLINE,\r\n        filter: filter,\r\n      })\r\n    } \r\n    \r\n  }),\r\n  reset_gallery: action((state)=>{\r\n    state.active_images = state.gallery_images; \r\n  }),\r\n  set_active_filter: action((state, active_filter)=>{\r\n    state.filter = active_filter\r\n  }),\r\n  set_active_lightbox: action((state, item)=>{\r\n    let source_row  =  state.map_spreadsheet.filter(r=>r.photo1 === item.src)[0];\r\n    let photo_sources: PhotoInfo[] = [];\r\n    let photos = Object.keys(source_row).forEach(function(k: string){\r\n      \r\n        if (k.startsWith('photo')){\r\n          const key = k as keyof typeof source_row;\r\n          const photo_info: PhotoInfo = {\r\n            source: source_row[key],\r\n            kind: k\r\n          }\r\n          photo_sources.push(photo_info)\r\n        }\r\n    })\r\n    const info: LightBoxContent = {\r\n      images: photo_sources,\r\n      description: source_row.info,\r\n      title: source_row.title,\r\n      author: source_row.author,\r\n    }\r\n    state.active_lightbox = info\r\n  })  \r\n}\r\n\r\nconst arrayIncludesInObj = (arr: any[], key: string, valueToCheck: string): boolean => {\r\n  const has_tag = arr.some(value => value[\"title\"] === valueToCheck);\r\n  return has_tag\r\n}\r\nconst getKeyValue = <T extends object, U extends keyof T>(key: U) => (obj: T) =>\r\n      obj[key];\r\n\r\nfunction get_tag(category: string): string{\r\n  let tag = \"\";\r\n  if (category == \"BUILT ENVIRONMENT\"){\r\n    tag = \"BE\";\r\n  } \r\n  if (category == \"POLITICAL ENVIRONMENT\"){\r\n    tag = \"PE\"\r\n  } \r\n  if (category == \"SOCIAL ENVIRONMENT\"){\r\n    tag = \"SE\"\r\n  } \r\n  if (category == \"ENVIRONMENTAL ENVIRONMENT\"){\r\n    tag = \"EE\"\r\n  } \r\n  return tag\r\n}\r\n// const is_in_enum(the_enum: any, val: any): bool{\r\n//   const enum_values: string[] = Object.values(the_enum);\r\n//   return enum_values.contains(val);\r\n// }\r\nfunction generate_map_stats(map_rows: MapRow[]): MapStats{\r\n  const yd = generate_year_discpline_stats(map_rows)\r\n  const td = generate_topic_stats(map_rows)\r\n  const theme_stats = generate_theme_stats(map_rows)\r\n  const map_stats: MapStats = {\r\n    year: yd,\r\n    tag: td,\r\n    theme: theme_stats,\r\n  }\r\n  return map_stats\r\n  // year: YearGroup,\r\n  // tag: TagStats,\r\n  // theme: ThemeStats,\r\n}\r\n\r\nfunction generate_year_discpline_stats(map_rows: MapRow[]): YearDisciplineStats{\r\n  const year_groups = groupBy(map_rows, \"year\");\r\n  const yg_keys = Object.keys(year_groups);\r\n  const max_unit_count = 10;\r\n\r\n  const year_group = yg_keys.map((k: any, i: number )=>{\r\n    const year_breakdown = groupBy(year_groups[k], \"discipline\");\r\n    let cats = Object.keys(year_breakdown);\r\n    let final_data: any = {};\r\n    cats.forEach(c=>{\r\n      // console.log(year_groups[k]);\r\n      // console.log(year_breakdown[c]);\r\n      // console.log(year_groups[k].length);\r\n      // console.log(year_groups[k].length);\r\n      final_data[c] = Math.round((year_breakdown[c].length/year_groups[yg_keys[i]].length)*max_unit_count);\r\n    });\r\n    return final_data\r\n  })\r\n  const final_data: any = {};\r\n  console.log(year_group);\r\n  year_group.forEach((s, ind)=>{\r\n      final_data[yg_keys[ind]] = s    \r\n  })\r\n  let fomratted_data = final_data as YearDisciplineStats;\r\n  return fomratted_data\r\n}\r\n\r\nfunction generate_topic_stats(map_rows: MapRow[]): TagStats {\r\n  const total_cat_blocks = 75;\r\n  const topic_groups = groupBy(map_rows, \"tags\")\r\n  let empty_cont: any = {}\r\n  let keys = Object.keys(topic_groups);\r\n  keys.forEach(k=>{\r\n    const topic_group_count = topic_groups[k].length;\r\n    const sub_groups = groupBy(topic_groups[k], \"subtopic\");\r\n    const cat_percent = topic_groups[k].length/map_rows.length;\r\n    const portioned_cat_blocks = cat_percent*total_cat_blocks;\r\n    let empty_sg: any = {\r\n      cat_percent: topic_groups[k].length/map_rows.length,\r\n      cat_blocks: portioned_cat_blocks,\r\n    };\r\n    const sub_keys = Object.keys(sub_groups);\r\n    sub_keys.forEach(sk=>{\r\n      empty_sg[sk] = Math.round(((Math.ceil(((sub_groups[sk].length/topic_group_count)*100)/20)*20)/100)*5)\r\n    })\r\n    empty_cont[k] = empty_sg\r\n  });\r\n  \r\n  return empty_cont as TagStats\r\n  \r\n}\r\n\r\nfunction generate_theme_stats(map_rows: MapRow[]): any{\r\n  const num_theme_blocks = 25\r\n  //max number of blocks is 45\r\n  const theme_groups = groupBy(map_rows, \"theme\");\r\n  const theme_keys = Object.keys(theme_groups);\r\n  let empty_theme_data: any = {};\r\n  \r\n  theme_keys.forEach(k=>{\r\n    empty_theme_data[k] = Math.round((theme_groups[k].length/map_rows.length)*num_theme_blocks)\r\n    // empty_theme_data[k] = theme_groups[k].length/map_rows.length\r\n  })\r\n  return empty_theme_data as ThemeStats\r\n}\r\n\r\nfunction make_tags(tag_data: string): Tag[]{\r\n    let split_tag_values = tag_data.split(',');\r\n    let tags = split_tag_values.map(tag=>({value: tag.trim(), title: tag.trim()}));\r\n    return tags\r\n}\r\n\r\nfunction make_time_series(rows: EventRow[]): TimelineData{\r\n  const categorized_events = groupBy(rows, \"category\");\r\n  Object.keys(categorized_events).forEach(key => {\r\n    const value = categorized_events[key];\r\n    const series = event_row_to_series(value);\r\n    categorized_events[key] = series;\r\n    \r\n  });\r\n  console.log(categorized_events);\r\n  return categorized_events\r\n}\r\n\r\nfunction event_row_to_series(rows: EventRow[]): TimeSeries[]{\r\n  const all_events:  TimeRangeEvent[] = [];\r\n  const timeline_series = rows.map(function(ev: EventRow){\r\n    const time_range = new TimeRange(ev.start, ev.end);\r\n    const data: EventData = {\r\n      title: ev.title,\r\n      tags: ev.tags.split(',').map(t=>t.trim()),\r\n    }\r\n    const time_range_event = new TimeRangeEvent(time_range, [data]);\r\n\r\n    all_events.push(time_range_event);\r\n    const time_series =  new TimeSeries({\r\n      name: \"test\",\r\n      events: [time_range_event]\r\n    })\r\n    return time_series\r\n  })\r\n  try{\r\n    let test_sect = group_events_to_rows(all_events);\r\n    return test_sect\r\n  } catch (error){\r\n    console.error(`error grouping events into rows ${error}`)\r\n  }\r\n\r\n  return timeline_series\r\n  return timeline_series\r\n}\r\n\r\nfunction group_events_to_rows(events: TimeRangeEvent[]): TimeSeries[] {\r\n  // let all_rows : TimeRangeEvent[][] = [];\r\n  let test_obj: any = {};\r\n  test_obj[0] = [];\r\n      var cur_row: TimeRangeEvent[] = [];\r\n      (events as TimeRangeEvent[]).forEach((ev2: TimeRangeEvent, ind: number, array: TimeRangeEvent[])=>{\r\n        let row_count = 0;\r\n        \r\n        if (array.every((e3)=>{\r\n          if (ev2 == e3){\r\n            return true\r\n          }\r\n          if (date_range_overlaps(e3.begin(), e3.end(), ev2.begin(), ev2.end())){\r\n              return false\r\n          } else {\r\n            return true\r\n          }\r\n        })){\r\n          test_obj[row_count].push(ev2)\r\n        } else {\r\n          row_count = row_count + 1;\r\n          test_obj[ind] = [ev2]\r\n        }\r\n      })\r\n      const sorted_events= Object.keys(test_obj).map(k=>{\r\n        test_obj[k] = test_obj[k].sort((a: any,b: any)=>a.begin()-b.begin());\r\n      })\r\n      const row_arrays = Object.keys(sorted_events).map(k=>(\r\n        \r\n        new TimeSeries({\r\n          name: \"test\",\r\n          events: test_obj[k],\r\n          })\r\n      ))\r\n      return row_arrays\r\n}\r\n\r\nfunction date_range_overlaps(a_start: Date, a_end: Date, b_start: Date, b_end: Date) {\r\n  if (a_start < b_start && b_start < a_end) return true; // b starts in a\r\n  if (a_start < b_end   && b_end   < a_end) return true; // b ends in a\r\n  if (b_start <  a_start && a_end   <  b_end) return true; // a in b\r\n  return false;\r\n}\r\n\r\nfunction map_rows_to_images(rows: MapRow[]): GalleryImage[]{\r\n  let unsized_gallery_images: GalleryImage[] = rows.map((map_row: MapRow)=>(\r\n    {\r\n        src: map_row.photo1,\r\n        thumbnail: map_row.thumbnail,\r\n        isSelected: false,\r\n        caption: \"Im in this other file\",\r\n        thumbnailWidth: 95,\r\n        thumbnailHeight: 174,\r\n        tags: [{\r\n          discipline: AuthorDisciplineFilter[map_row.discipline as unknown as keyof typeof AuthorDisciplineFilter],\r\n          subtopic: TopicSubCategoryFilter[map_row.tags + \"_\" + map_row.subtopic as unknown as keyof typeof TopicSubCategoryFilter],\r\n          theme: ThemeCategoryFilter[map_row.theme as unknown as keyof typeof ThemeCategoryFilter],\r\n          year: map_row.year,\r\n        }]\r\n  }))\r\n    return unsized_gallery_images\r\n}\r\n\r\nfunction groupBy(arr: any[], property: any) {\r\n  return arr.reduce((acc, cur) => {\r\n    acc[cur[property]] = [...acc[cur[property]] || [], cur];\r\n    return acc;\r\n  }, {});\r\n}\r\n\r\nfunction type_event_rows(rows: any[]): EventRow[]{\r\n  rows.forEach((r: any, ind: number)=>{\r\n    const cat_string: string = rows[ind][\"category\"];\r\n    const type_cat: EventLevel  = EventLevel[cat_string as unknown as keyof typeof EventLevel];\r\n    rows[ind][\"category\"] = type_cat;\r\n    const start_date = new Date(rows[ind][\"start\"]);\r\n    const end_date = new Date(rows[ind][\"end\"]);\r\n    rows[ind][\"start\"] = start_date;\r\n    rows[ind][\"end\"] = end_date;\r\n  })\r\n  return rows\r\n}\r\n\r\nfunction type_map_rows(rows: any[]): MapRow[]{\r\n  rows.forEach((r: any, ind: number)=>{\r\n    const discipline_string: string = rows[ind][\"discipline\"];\r\n    const type_cat: AuthorDisciplineFilter  = AuthorDisciplineFilter[discipline_string as unknown as keyof typeof AuthorDisciplineFilter];\r\n    rows[ind][\"discipline\"] = type_cat;\r\n    // console.log(rows[ind][\"catedisciplinegory\"])\r\n  })\r\n  return rows\r\n}\r\n\r\nfunction get_image(image: GalleryImage): Promise<HTMLImageElement>{\r\n  const promise = new Promise<HTMLImageElement>(function(resolve, reject) {\r\n    let img = new Image();\r\n    img.src = image.thumbnail;\r\n    img.onload = () => {\r\n      image.thumbnailHeight = img.height;\r\n      image.thumbnailWidth = img.width;\r\n      resolve(img);\r\n    };\r\n  });\r\n  return promise\r\n}\r\n\r\nfunction get_sheet <T>(key: string, sheet_num: number): Promise<LabeledCols<T>>{\r\n  const promise = new Promise<LabeledCols<T>>(function(resolve, reject) {\r\n    GetSheetDone.labeledCols(key, sheet_num).then((sheet: any) => {\r\n        resolve(sheet)\r\n       }).catch((err: any )=> {\r\n         console.error(`Error fetching DOC_KEY ${key}, sheet number ${sheet_num}`);\r\n    });\r\n  });\r\n  return promise\r\n}\r\n\r\nfunction get_map_sheet(key: string, sheet_index: number): Promise<void | MapRow[]>{\r\n// function get_map_sheet(key: string, sheet_index: number): Promise<LabeledCols<MapRow[]>>{\r\n  var to_get =  get_sheet<MapRow>(key, sheet_index).then((map_sheet: LabeledCols<MapRow>)=>{\r\n    const typed_map_rows = type_map_rows(map_sheet.data);\r\n   return typed_map_rows\r\n  }).\r\n  catch((err: any)=>{\r\n    console.error(`Error fetching DOC_KEY ${key}`);\r\n  })\r\nreturn to_get\r\n}\r\n\r\nfunction getAllFuncs(toCheck: any) {\r\n  var props: any[] = [];\r\n  var obj = toCheck;\r\n  do {\r\n      props = props.concat(Object.getOwnPropertyNames(obj));\r\n  } while (obj = Object.getPrototypeOf(obj));\r\n\r\n  return props.sort().filter(function(e, i, arr) { \r\n     if (e!=arr[i+1] && typeof toCheck[e] == 'function') return true;\r\n  });\r\n}\r\n\r\n\r\nexport default map_data;\r\n","import map_data, { MapDataModel } from './map_data';\r\n// https://codesandbox.io/s/easy-peasy-typescript-v3-riqbl?file=/src/model/todos.ts\r\n\r\nexport interface StoreModel {\r\n  map_data: MapDataModel;\r\n//   notification: NotificationModel;\r\n}\r\n\r\nconst model: StoreModel = {\r\n  map_data,\r\n//   notification,\r\n};\r\n\r\nexport default model;\r\n","import {createStore, action} from 'easy-peasy';\r\nimport model from './model';\r\n\r\nconst store = createStore(model);\r\n\r\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {ThemeProvider} from \"@material-ui/core/styles\";\nimport {theme} from './theme';\nimport {StoreProvider} from 'easy-peasy';\n\nimport store from './store';\nReactDOM.render(\n    <ThemeProvider theme = {theme} >\n      <StoreProvider store = {store}>\n      <App />\n     </StoreProvider>\n    </ThemeProvider>,\n  document.getElementById('root')\n);\n// ReactDOM.render(\n//   <React.StrictMode>\n//     <ThemeProvider theme = {theme} >\n//       <StoreProvider store = {store}>\n//       <App />\n//      </StoreProvider>\n//     </ThemeProvider>\n//   </React.StrictMode>,\n//   document.getElementById('root')\n// );\n\nreportWebVitals();\n"],"sourceRoot":""}